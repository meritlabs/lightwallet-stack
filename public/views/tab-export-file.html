<div ng-show="!backupWalletPlainText">
  <div class="size-14" ng-show="error">
    <i class="ion-alert-circled"></i>
    <span translate>Failed to export</span>
  </div>

  <form name="exportForm" novalidate>
    <div class="card">
      <label class="item item-input item-stacked-label">
        <span class="input-label" transalate>Set up a password</span>
        <input type="password" placeholder="{{'Your password'|translate}}" ng-model="formData.password">
      </label>

      <label class="item item-input item-stacked-label">
        <span class="input-label" transalate>Repeat the password</span>
        <input type="password" placeholder="{{'Repeat password'|translate}}" ng-model="formData.repeatpassword">
      </label>
    </div>
  </form>

  <ion-toggle ng-show="canSign" ng-model="formData.showAdvanced" toggle-class="toggle-balanced">
    <span translate ng-show="!formData.showAdvanced">Show advanced options</span>
    <span translate ng-show="formData.showAdvanced">Hide advanced options</span>
  </ion-toggle>

  <div class="card" ng-show="formData.showAdvanced">
    <ion-checkbox ng-model="formData.noSignEnabled" class="checkbox-balanced" ng-change="noSignEnabledChange()">
      <span class="toggle-label" translate>Do not include private key</span>
    </ion-checkbox>
  </div>

  <div class="box-notification error" ng-show="!canSign">
    <span class="size-14">
      <i class="ion-alert-circled"></i>
      <span translate>
        WARNING: The private key of this wallet is not available. The export allows to check the wallet balance, transaction history, and create spend proposals from the export. However, does not allow to approve (sign) proposals, so <b>funds will not be accessible from the export</b>.
      </span>
    </span>
  </div>

  <div class="box-notification error" ng-show="formData.noSignEnabled">
    <span class="size-14">
      <i class="ion-alert-circled"></i>
      <span translate>
      WARNING: Not including the private key allows to check the wallet balance, transaction history, and create spend proposals from the export. However, does not allow to approve (sign) proposals, so <b>funds will not be accessible from the export</b>.
      </span>
    </span>
  </div>

  <button
    ng-click="downloadWalletBackup()"
    class="button button-block button-positive"
    ng-disabled="(!formData.password || formData.password != formData.repeatpassword)"
    ng-style="{'background-color':wallet.color}"
    ng-show="!isSafari && !isCordova">
    <i class="fi-download"></i>
    <span translate>Download</span>
  </button>

  <button
    ng-click="viewWalletBackup()"
    class="button button-block button-positive"
    ng-disabled="(!formData.password || formData.password != formData.repeatpassword)"
    ng-style="{'background-color':wallet.color}"
    ng-show="isSafari && !isCordova">
    <i class="fi-eye"></i>
    <span translate>View</span>
  </button>

  <div ng-show="isCordova">
    <h4 translate>Export options</h4>
    <button class="button button-block button-positive"
      ng-disabled="(!formData.password || formData.password != formData.repeatpassword)"
      ng-style="{'background-color':wallet.color}"
      ng-click="copyWalletBackup()">
      <i class="fi-clipboard-pencil"></i>
      <span translate>Copy to clipboard</span></button>
    <button class="button button-block button-positive" ng-disabled="(!formData.password || formData.password != formData.repeatpassword)"
      ng-style="{'background-color':wallet.color}"
      ng-click="sendWalletBackup()"><i class="fi-mail"></i>
      <span translate>Send by email</span></button>
  </div>
</div>

<div ng-show="backupWalletPlainText" class="text-center card">
  <label class="item item-input item-stacked-label">
    <textarea rows="12">{{backupWalletPlainText}}</textarea>
  </label>
  <div class="item text-gray item-icon-left">
    <i class="icon ion-compose"></i>
    <p translate>Copy this text as it is to a safe place (notepad or email)</p>
  </div>
</div>