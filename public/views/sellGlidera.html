<div 
  class="topbar-container" 
  ng-include="'views/includes/topbar.html'"
  ng-init="titleSection='Sell'; goBackToState = 'glidera'">
</div>


<div class="content glidera" 
  ng-controller="sellGlideraController as sell">
  <div class="row">
    <div class="large-12 columns">

      <h1>Sell Bitcoin</h1>

      <form name="form" ng-submit="sell.getSellPrice(index.glideraToken, {'qty': qty, 'fiat': fiat})" novalidate>
        <label>Amount BTC</label>
        <input type="number" ng-model="qty">
        <label>Amount USD</label>
        <input type="number" ng-model="fiat">
        <input class="button" type="submit" value="Get Sell Price">
      </form>

      <h2>Sell Price</h2>
      <ul>
        <li>qty: {{sell.sellPrice.qty}}
        <li>price: {{sell.sellPrice.price}}
        <li>subtotal: {{sell.sellPrice.subtotal}}
        <li>fees: {{sell.sellPrice.fees}}
        <li>total: {{sell.sellPrice.total}}
        <li>currency: {{sell.sellPrice.currency}}
        <li>expires: {{sell.sellPrice.expires}}
        <li>priceUuid: {{sell.sellPrice.priceUuid}}
      </ul>

      <h2>Create Tx</h2>

      <div class="m10b">
        refundAddress: {{sell.addr[index.walletId]}}<br>
        sellAddress: {{sell.sellAddress}}
      </div>
      
      <button 
        ng-click="raw = sell.createTx()">
        Create
      </button>


      <div class="m10b" ng-show="sell.raw">{{sell.raw}}</div>

      <h2>Send 2FA Code</h2>
      <button ng-click="sell.get2faCode(index.glideraToken)">Send 2FA Code</button>

      <h2>Send TX to Glider</h2>
      <form name="form2" ng-submit="sell.sendTx(index.glideraToken, twoFaCode)" novalidate>
        <label>2FA Code
          <input type="number" ng-model="twoFaCode">
        </label>
        <input class="button" type="submit" value="Sell">
      </form>

    </div>
  </div>
</div>
<div class="extra-margin-bottom"></div>
