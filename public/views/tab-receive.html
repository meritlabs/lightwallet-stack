<ion-view>
  <ion-nav-bar class="bar-stable">
    <ion-nav-title>{{'Receive' | translate}}</ion-nav-title>
  </ion-nav-bar>

  <ion-content ng-controller="tabReceiveController" ng-init="init()">
    <div class="m30v text-center" copy-to-clipboard="addr">
      <qrcode size="220" data="bitcoin:{{addr}}"></qrcode>
      <div ng-if="wallet.needsBackup" class="assertive" translate>
        Before receiving funds, you must backup your wallet. If this device is lost, it is impossible to access your funds without a backup.
      </div>
    </div>

    <div class="padding assertive" ng-show="error">
      {{error|translate}}
    </div>

    <div class="list card padding text-center" ng-if="!wallets[0]">
      <span translate>No Wallet</span>
    </div>

    <div class="list" ng-if="wallets[0]">
      <div class="item item-icon-left" ng-click="shareAddress(addr)" ng-show="isCordova && addr">
        <i class="icon ion-ios-upload-outline"></i>
        <span translate>Share address</span>
      </div>
      <div class="item item-icon-left" ng-click="setAddress(null, true)">
        <i class="icon ion-ios-loop"></i>
        <span translate>Next Address</span>
      </div>
      <div class="item item-icon-left">
        <i class="icon ion-social-bitcoin-outline"></i>
        <span ng-if="generatingAddress">...</span>
        <span ng-if="!generatingAddress" copy-to-clipboard="addr">{{addr}}</span>
      </div>

      <wallets ng-if="wallets[0]" wallets="wallets"></wallets>
    </div>
  </ion-content>
</ion-view>
