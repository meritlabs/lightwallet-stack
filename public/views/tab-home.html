
<ion-view>
  <ion-nav-bar class="bar-stable">
    <ion-nav-title>Home</ion-nav-title>
  </ion-nav-bar>

  <ion-content class="padding" ng-controller="tabHomeController">
    <h3 class="title" translate>Activity</h3>

    <div ng-if="fetchingNotifications" class="updatingHistory">
      <div class="text-center">
        <ion-spinner class="spinner-dark" icon="lines"></ion-spinner>
        <div translate>Updating activity. Please stand by</div>
      </div>
    </div>

    <div ng-if="!fetchingNotifications">
      <div class="list card">
        <div class="item item-icon-left" ng-repeat="x in notifications" ng-click="x.action()">
          <span ng-include="'views/includes/walletActivity.html'"></span>
        </div>

        <a class="item text-center" ui-sref="activity" ng-show="notificationsMore">
          <span translate>More</span> ({{notificationsMore}})
        </a>

        <div class="item" ng-show="!notifications[0]">
          <span translate>No recent activity</span>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col col-80">
        <h3 translate>Wallets</h3>
      </div>
      <div class="col text-right" ui-sref="add.main">
        <i class="size-32 icon ion-ios-plus-empty"></i>
      </div>
    </div>

    <div class="list card" ng-init="updateAllWallets()">
      <div class="item" ng-if="!wallets[0]">
        <span translate>No Wallet</span>
      </div>
      <div ng-repeat="item in wallets track by $index"
           class="item item-icon-left"
           ui-sref="wallet.details({'walletId': item.id})">
            <i class="icon ion-briefcase size-21" ng-style="{'color':item.color}"></i>
              {{item.name || item.id}}
            <span  ng-show="item.n > 1" class="text-gray">
              {{item.m}}-of-{{item.n}}
            </span>
            <span class="badge badge-assertive" ng-show="!item.isComplete()" translate>
              Incomplete
            </span>
            <span class="item-note"  ng-show="item.isComplete()">
              {{item.status.availableBalanceStr}}
            </span>
        </div>
    </div>

    <div ng-show="glideraEnabled || coinbaseEnabled">
      <h3 class="title" translate>Buy & Sell Bitcoin</h3>
      <div class="card">
        <div ng-show="glideraEnabled" ui-sref="glidera.main" class="item">
          <img src="img/glidera-logo.png" width="90">
        </div>
        <div ng-show="coinbaseEnabled" ui-sref="exchange.coinbase" class="item">
          <img src="img/coinbase-logo.png" width="90"> TODO
        </div>
      </div>
    </div>

    <h3 class="title" translate>Next steps</h3>
    <div class="card">
      <div ui-sref="bitpayCard.main" ng-show="bitpayCardEnabled" class="item item-icon-left">
        <i class="icon ion-card"></i>BitPay Card
      </div>
      <div ui-sref="amazon.main" class="item item-icon-left">
        <i class="icon ion-ios-cart"></i>Gift Cards
      </div>
    </div>

  </ion-content>
</ion-view>
