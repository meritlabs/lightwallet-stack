
<ion-view>
  <ion-nav-bar class="bar-stable">
    <ion-nav-title>Home</ion-nav-title>
  </ion-nav-bar>
  <ion-content class="padding" ng-controller="tabHomeController">


    <h2 translate>Activity</h2>
    <div ng-if="fetchingNotifications" class="updatingHistory">
        <div  class="row" >
            <ion-spinner class="spinner-dark" icon="lines"></ion-spinner>
        </div>
        <div  class="row" >
          <div  class="col" translate>Updating activity. Please stand by.</div>
        </div>
      </div>
    </div>

    <div ng-if="!fetchingNotifications">
      <div class="list card" ng-if="!fetchingNotifications">
        <ul>
          <li ng-repeat="x in notifications" class="item item-icon-left" ng-click="x.action()">
            <span ng-include="'views/includes/walletActivity.html'"></span>
          </li>

          <li  class="item " ui-sref="activity"  ng-show="notificationsMore">
            <button class="button button-block button-passive">
            More ({{notificationsMore}})
            </button>
          </li>
          <li  class="item"  ng-show="!notifications[0]">
            No recent activity
          </li>
        </ul>
      </div>
    </div>

    <div class="row">
      <div class="col col-80">
        <h2>Wallets </h2>
      </div>
      <div class="col col-20 text-right">
        <a class="button button-light" ui-sref="add.main">
          <i class="size-36 icon ion-ios-plus-outline"></i>
        </a>
      </div>
    </div>

    <div class="card" ng-show="wallets[0]">
      <div ng-repeat="item in wallets track by $index"
           class="item item-icon-left"
           ui-sref="wallet.details({'walletId': item.id})">
            <i class="icon ion-briefcase size-21" ng-style="{'color':item.color}"></i>
            {{item.name || item.id}}
            <span  ng-show="item.n > 1" class="text-gray">
              {{item.m}}-of-{{item.n}}
            </span>

            <span class="badge badge-assertive" ng-show="!item.isComplete()" translate>
              Incomplete
            </span>
            <span class="item-note"  ng-show="item.isComplete()">
              {{item.status.availableBalanceStr}}
            </span>
        </div>
    </div>

    <div ng-show="glideraEnabled || coinbaseEnabled">
      <h3>Buy & Sell Bitcoin</h3>
      <div class="card">
        <div ng-show="glideraEnabled" ui-sref="glidera.main" class="item">
          <img src="img/glidera-logo.png" width="90">
        </div>
        <div ng-show="coinbaseEnabled" ui-sref="exchange.coinbase" class="item">
          <img src="img/coinbase-logo.png" width="90">
        </div>
      </div>
    </div>

    <h3>Next steps </h3>
    <div class="list card">
      <ul class="pr">
      <li ui-sref="bitpayCard.main" ng-show="bitpayCardEnabled" class="item item-icon-left">
        <i class="icon ion-card"></i>
          BitPay Card
      </li>
      <li ui-sref="amazon.main" class="item item-icon-left">
        <i class="icon ion-ios-cart"></i>
        Gift Cards
      </li>
      </ul>
    </div>

  </ion-content>
</ion-view>
