
<ion-view>
  <ion-nav-bar class="bar-stable">
    <ion-nav-title>Home</ion-nav-title>
  </ion-nav-bar>
  <ion-content class="padding home" ng-controller="tabHomeController" cache-view="false" ng-init="init()">

    <div ng-if="txps[0]">
      <h3 class="title m0" translate>Payment Proposals</h3>
      <div class="list card">
        <ul>
          <li ng-repeat="tx in txps" class="item item-icon-left"
            ng-click="openTxpModal(tx)">
            <i class="icon ion-ios-circle-filled" ng-show="tx.pendingForUs" ng-style="{'color':tx.wallet.color}"></i>
            <span ng-show="!tx.merchant">
              <span ng-show="addressbook[tx.toAddress] && !tx.message">
                {{addressbook[tx.toAddress]}}
              </span>
              <span class="ellipsis" ng-show="!addressbook[tx.toAddress] && tx.message">
                {{tx.message}}
              </span>
              <span ng-show="!addressbook[tx.toAddress] && !tx.message" translate>
                Sending
              </span>
            </span>
            <span ng-show="tx.merchant">
              <span ng-show="tx.merchant.pr.ca"><i class="fi-lock"></i> {{tx.merchant.domain}}</span>
              <span ng-show="!tx.merchant.pr.ca"><i class="fi-unlock"></i> {{tx.merchant.domain}}</span>
            </span>
            <span>
              - {{tx.amountStr}}
            </span>
            <div class="item item-divider">
              {{tx.wallet.name}} &middot; <time>{{ (tx.ts || tx.createdOn ) * 1000 | amTimeAgo}}</time>
            </div>
          </li>
        </ul>


        <div ng-show="lockedBalanceSat">
          <span translate>Total Locked Balance</span>:
          <b>{{lockedBalanceStr}} </b>
          <span> {{lockedBalanceAlternative}} {{alternativeIsoCode}} </span>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col col-80">
        <h2>Wallets </h2>
      </div>
      <div class="col col-20 text-right">
        <a class="button button-light" ui-sref="add.main">
          <i class="size-36 icon ion-ios-plus-outline"></i>
        </a>
      </div>
    </div>

    <div class="list card">
      <ul class="pr">

        <li ng-show="wallets[0]"
          ng-repeat="item in wallets track by $index" class="item item-icon-left"
          ui-sref="wallet.details({'walletId': item.id})">
            <i class="icon ion-briefcase size-21" ng-style="{'color':item.color}"></i>
            {{item.name || item.id}}
            <span  ng-show="item.n > 1" class="text-gray">
              {{item.m}}-of-{{item.n}}
            </span>

            <span class="badge badge-assertive" ng-show="!item.isComplete()" translate>
              Incomplete
            </span>
            <span class="item-note"  ng-show="item.isComplete()">
              {{item.status.availableBalanceStr}}
            </span>
        </li>
      </ul>
    </div>

    <h3>Next steps </h3>
    <div class="list card">
      <ul class="pr">
      <li ui-sref="bitpayCard" ng-show="bitpayCardEnabled" class="item item-icon-left">
        <i class="icon ion-card"></i>
          BitPay Card
      </li>
      <li ng-show="buyAndSellEnabled" ui-sref="buyandsell"  class="item item-icon-left">
        <i class="icon ion-cash"></i>
            Buy and Sell
      </li>
      <li ui-sref="amazon.main" class="item item-icon-left">
        <i class="icon ion-ios-cart"></i>
        Gift Cards
      </li>
      </ul>
    </div>

  </ion-content>
</ion-view>
