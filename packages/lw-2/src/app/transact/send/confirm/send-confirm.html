<ion-header>
    <ion-navbar color="secondary">
        <ion-title>Confirm</ion-title>
    </ion-navbar>
</ion-header>


<ion-content>

    <ion-card padding-top padding-bottom>

        <span *ngIf="viewData">
            <div class="title">Recipient</div>
            <div>{{viewData.recipientName}}</div>


            <div class="title">Amount</div>
            <div>{{ viewData.amountMrt }} MRT ({{ viewData.amountFiat }} {{ viewData.fiatCode }})</div>


            <div class="title">Fee
                <span *ngIf="viewData.feeIncluded"> included</span>
                ({{ viewData.feePercent }})</div>
            <div>
                {{ viewData.feeAmountMrt}} MRT ({{ viewData.feeAmountFiat }} {{ viewData.fiatCode }})
            </div>


            <div class="title">From {{viewData.walletName}}</div>
            <div>
                Current balance: {{ viewData.walletCurrentBalanceMrt }} MRT ({{ viewData.walletCurrentBalanceFiat }} {{ viewData.fiatCode }})
            </div>
            <div>
                Sending: {{ viewData.totalAmountMrt}} MRT ({{ viewData.totalAmountFiat }} {{ viewData.fiatCode }})
            </div>
            <div>
                New balance: {{ viewData.walletRemainingBalanceMrt }} MRT ({{ viewData.walletRemainingBalanceFiat }} {{ viewData.fiatCode }})
            </div>


        </span>
        <span *ngIf="!txData">
            <ion-item>
                <ion-spinner item-start></ion-spinner> Preparing payment
            </ion-item>
        </span>

    </ion-card>

    <div class="control-buttons">
        <button ion-button primary margin-top (click)="approve()" [disabled]="!sendAllowed()">Confirm and send!</button>
    </div>

</ion-content>