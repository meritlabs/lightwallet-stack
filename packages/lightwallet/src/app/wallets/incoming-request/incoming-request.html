<ion-header no-border>
  <ion-navbar color="light">
    <ion-title>
      <span *ngIf="!unlockRequest.isConfirmed">Invite Request</span>
      <span *ngIf="unlockRequest.isConfirmed">Sent Invite</span>
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <div class="container">
    <div *ngIf="unlockRequest">
      <span class="date">{{ (unlockRequest.timestamp * 1000) | amDateFormat: 'DD MMM, hh:mma' }}</span>
      <span class="to-wallet">{{ unlockRequest.isConfirmed? 'Sent from' : 'Requested from' }} <strong>{{ unlockRequest?.wallet?.name }}</strong></span>
      <ion-avatar img-icon>
        <img src="assets/img/icons/incoming_request_l.svg" *ngIf="!unlockRequest.isConfirmed">
        <img src="assets/img/icons/confirm.svg" *ngIf="unlockRequest.isConfirmed">
      </ion-avatar>
      <span class="wallet-name">{{ unlockRequest.alias? '@' + unlockRequest.alias : unlockRequest.address }}</span>
      <span class="status {{ unlockRequest.status }}">{{ unlockRequest.status }}</span>
    </div>
  </div>
</ion-content>


<ion-footer>
  <ion-toolbar *ngIf="unlockRequest">

    <ion-list>
      <ion-item-group *ngIf="!unlockRequest.isConfirmed" detail-none>
        <button ion-item (click)="selectWallet()" detail-none text-left class="wallet-selector">
          <ion-avatar item-start img-icon>
            <img src="assets/img/icons/wallet.svg">
          </ion-avatar>
          <ion-label>
            <p>Send from</p>
            <h2>{{ unlockRequest.wallet.name }}</h2>
            <p>Invites: {{ unlockRequest.wallet.invites }}</p>
          </ion-label>
        </button>

        <button ion-item (click)="accept()" detail-none>Send Invite</button>
        <button ion-item (click)="decline()" detail-none>Ignore</button>
      </ion-item-group>
      <ion-item-group *ngIf="unlockRequest.isConfirmed" detail-none>
        <button ion-item (click)="createContact()" detail-none>
          <ion-icon name="add"></ion-icon>
          Create new contact
        </button>
        <button ion-item (click)="bindContact()" detail-none>Bind to existing contact</button>
        <button ion-item (click)="continue()">
          Continue
        </button>
      </ion-item-group>
    </ion-list>

  </ion-toolbar>
</ion-footer>

