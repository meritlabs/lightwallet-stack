<ion-header>

    <ion-navbar color="light">
        <ion-title>
            <span *ngIf="!unlockRequest.isConfirmed">Incoming unlock request</span>
            <span *ngIf="unlockRequest.isConfirmed">Request accepted</span>
        </ion-title>
    </ion-navbar>

</ion-header>

<ion-content>

    <div class="datetime">
        {{unlockRequest.timestamp*1000 | amDateFormat:'DD:MM HH:mm'}}
    </div>
    <ion-avatar img-icon>
        <img src="assets/img/icons/incoming_request_l.svg" *ngIf="!unlockRequest.isConfirmed">
        <img src="assets/img/icons/confirm.svg" *ngIf="unlockRequest.isConfirmed">
    </ion-avatar>

    <h2>{{unlockRequest.address}}</h2>
    <p *ngIf="unlockRequest.alias">@{{unlockRequest.alias}}</p>

</ion-content>


<ion-footer>
    <ion-toolbar>
    
        <ion-list *ngIf="!unlockRequest.isConfirmed">
            <button ion-item (click)="accept()">
                ACCEPT
            </button>
    
            <button ion-item (click)="decline()" class="decline-button">
                DECLINE
            </button>
    
            <button ion-item (click)="selectWallet()" detail-none>
                <ion-avatar item-start img-icon>
                    <img src="assets/img/icons/wallet.svg" item-start>
                </ion-avatar>
                <h2>{{unlockRequest.walletClient.name}}</h2>
                <p>Invites: {{unlockRequest.walletClient.invites}}</p>
            </button>
        </ion-list>
 
        <ion-list *ngIf="unlockRequest.isConfirmed">
            <button ion-item (click)="createContact()">
                <ion-icon name="add"></ion-icon> Create new contact
            </button>

            <button ion-item (click)="bindContact()">
                Bind to existing contact
            </button>

            <button ion-item (click)="continue()">
                Continue
            </button>

        </ion-list> 
    
    </ion-toolbar>
</ion-footer>
      
