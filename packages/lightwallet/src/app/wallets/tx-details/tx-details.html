<ion-header no-border>
  <ion-navbar>
    <ion-title smaller-title translate>{{ title }}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <div class="big-header">
    <!-- TODO revise this design, doesn't look good -->
    <div class="status">
      <div *ngIf="tx.action == 'received'" class="action">
        <img src="assets/img/icons/receive.svg" width="40">
        <span translate>Received</span>
      </div>
      <div *ngIf="tx.action == 'sent'" class="action">
        <img src="assets/img/icons/send.svg" width="40">
        <span translate>Sent</span>
      </div>
      <div *ngIf="tx.action == 'moved'" class="action">
        <img src="assets/img/icons/switch.svg" width="40">
        <span translate>Moved</span>
      </div>
    </div>
    <h2 class="amount" [hidden]="!tx.amountStr">
      {{tx.amountStr | toUnit : tx.amount}}&nbsp;<small>MRT</small>
    </h2>
    <h3 class="detail-fiat">
      {{tx.alternativeAmountStr || altAmountStr | toFiat : tx.amount | async}}
    </h3>
  </div>
  <ion-list>
    <ion-item>
      <ion-label>
        <p translate>To</p>
        <h2 *ngIf="tx.action != 'sent' && wallet && !vault">{{ wallet.name || '...' }}</h2>
        <h2 *ngIf="tx.action != 'sent' && vault">{{ vault.name || '...' }}</h2>
        <h2 *ngIf="tx.action == 'sent'">{{ tx.addressTo || '...' }}</h2>
      </ion-label>
    </ion-item>

    <ion-item *ngIf="tx.action == 'sent'">
      <ion-label>
        <p translate>From</p>
        <h2>{{wallet.name || '...'}}</h2>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>
        <p>{{'Date' | translate}}</p>
        <h2>{{tx.time * 1000 | amDateFormat:'MM/DD/YYYY HH:mm a'}}</h2>
      </ion-label>
    </ion-item>

    <ion-item text-wrap *ngIf="tx.message">
      <ion-label>
        <p>{{'Memo' | translate}}</p>
        <h2>{{tx.message}}</h2>
      </ion-label>
    </ion-item>

    <ion-item *ngIf="tx.action != 'received'">
      <ion-label>
        <p>{{'Fee' | translate}}</p>
        <h2>{{ unitFee | toUnit: tx.fees || '...'}} - {{fiatFee | toFiat: tx.fees || '...' | async }}</h2>
      </ion-label>
    </ion-item>

    <ion-item *ngIf="isNotConfirmed(tx)">
      <ion-label>
        <p>{{'Confirmations' | translate}}</p>
        <h2>{{confirmations || 'Unconfirmed' | translate}}</h2>
      </ion-label>
    </ion-item>
  </ion-list>
</ion-content>
