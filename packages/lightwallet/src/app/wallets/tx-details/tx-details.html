<ion-header no-border>
  <ion-navbar>
    <ion-title></ion-title>
    <ion-buttons end>
      <button ion-button (click)="dismiss()">
        Close
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
  <div class="big-header" *ngIf="tx">
    <div class="date">{{ tx.time * 1000 | amDateFormat: 'DD MMM, hh:mma' }}</div>
    <div class="contact-info">
      <contact-avatar [contact]="isEasySend? tx.contact : null" [fallback]="'assets/img/icons/' + (isMiningReward? 'mining' : isUnlockRequest? 'send_request' : isInvite? 'invite' : 'merit') + '.svg'"></contact-avatar>
      <h2 class="name">{{ tx.name }}</h2>
    </div>
    <h2 class="amount" *ngIf="!(tx.isCoinbase && tx.isInvite)">
      {{ isCredit? '' : '-' }}{{tx.amountStr | toUnit : tx.amount}}&nbsp;<small>MRT</small>
    </h2>
    <h3 class="detail-fiat" *ngIf="!(tx.isCoinbase && tx.isInvite)">
      {{ isCredit? '' : '-' }}{{tx.alternativeAmountStr || altAmountStr | toFiat : tx.amount | async}}
    </h3>
    <p class="fee" *ngIf="!isReward">
      Fee {{ tx.feeStr + ' MRT' }}
    </p>
  </div>

  <div *ngIf="tx">
    <ion-item class="confirmation-status" [class.confirmed]="isConfirmed" text-wrap>
      <ion-avatar img-icon item-start>
        <img [src]="'assets/img/icons/' + (isConfirmed? 'done' : 'timeout') + '.svg'" alt="">
      </ion-avatar>
      <ion-label>
        <h2>{{ isConfirmed? 'Complete' : 'Awaiting confirmation' }}</h2>
        <p>{{ confirmations }}</p>
      </ion-label>
    </ion-item>
    <div class="info-box" *ngIf="!isConfirmed">
      You have money available, but it cannot be spent until it confirms on the blockchain.
      Wait some time. Usually 5-10 mins.
    </div>
  </div>
</ion-content>
