<ion-header no-border>
    <ion-navbar>
      <ion-title>{{wallet.name}}</ion-title>
      <ion-buttons end>
            <button ion-button icon-only (click)="goToEditWallet()">
                <ion-icon name="settings"></ion-icon>
            </button>
      </ion-buttons>
    </ion-navbar>

  </ion-header>

  <ion-content >
    <ion-list>
        <div class="balance-header" (click)="getWalletHistory(true)" [style.background]="wallet.color" [class.default]="!wallet.color">
            <div class="balance-str">
                {{ wallet.status.totalBalanceStr }}
                <div *ngIf="wallet.status.totalBalanceMicros != wallet.status.spendableAmount"><small>({{ wallet.status.spendableBalanceStr || 0 }} available)</small></div>
            </div>
            <div class="balance-alt-str"> {{ wallet.status.totalBalanceAlternativeStr }}</div>
        </div>
    </ion-list>

    <ion-list>
      <button ion-item *ngFor="let tx of wallet.completeHistory" (click)="goToTxDetails(tx)">
        <ion-avatar item-start>
          <img src="assets/img/icon-receive-history.svg" *ngIf="tx.action == 'received'" width="40">
          <img src="assets/img/icon-sent.svg" *ngIf="tx.action == 'sent'" width="40">
          <img src="assets/img/icon-moved.svg" *ngIf="tx.action == 'moved'" width="40">
        </ion-avatar>
        <h2>{{tx.actionStr}}</h2>
        <p *ngIf="isNotConfirmedTx(tx)">Awaiting confirmation</p>
        <div class="detail" item-end>
          <div class="amount">
              {{tx.amountStr}}
              <ion-icon name="ios-timer-outline" *ngIf="isNotConfirmedTx(tx)"></ion-icon>
          </div>
          <div class="date">{{tx.time * 1000 | amTimeAgo}}</div>
        </div>
      </button>
    </ion-list>
  </ion-content>
