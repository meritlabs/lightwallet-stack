<ion-header>
  <ion-navbar></ion-navbar>
</ion-header>

<ion-content fullscreen>

  <div class="container" *ngIf="!easyReceipt">

    <h1 class="title">
      Merit is an invite-only network
    </h1>

    <div class="illustration" translate>
      <img src="assets/img/invite.svg" alt="">
    </div>

    <p class="text" translate>
      You'll need an unlock code from a friend or colleague.
    </p>

      <div class="bottom-buttons alias-item"> 
          <ion-input type="text" placeholder="Add address alias (optional)" [class.failed]="unlockState == 'aliasFail'" [(ngModel)]="formData.alias"
                     autocomplete="off" autocorrect="off" autocapitalize="off"
                     (ngModelChange)="checkAlias()"
          ></ion-input>
          <ion-spinner *ngIf="formData.aliasCheckInProgress" color="primary"></ion-spinner>
          <p *ngIf="formData.aliasValidationError" class="error-message">{{formData.aliasValidationError}}</p>
      </div>
  

      <div class="bottom-buttons">
      <ion-input placeholder="Invite Address or Alias" [class.failed]="unlockState == 'fail'"
                 [(ngModel)]="formData.parentAddress" autocomplete="off" autocorrect="off"
                 autocapitalize="off" (ionFocus)="onInputFocus()"></ion-input>
      <button (click)="createWallet()" ion-button icon-only  [disabled]="formData.aliasCheckInProgress">
        <ion-icon name="arrow-forward"></ion-icon>
      </button>
    </div>

  </div>

  <div *ngIf="easyReceipt" class="container">

    <img src="assets/img/logo-negative.svg" id="logo"/>

    <h1 class="title" translate>
      You've got Merit!!
    </h1>

    <p class="text" translate>
      {{easyReceipt.senderName ? easyReceipt.senderName : 'Someone'}}
      sent you
      <strong>{{easyReceipt.amount ? easyReceipt.amount : ''}}</strong>
      Merit.
    </p>

    <p class="text">
      Now you need to enter unlock code to setup your account and accept Merit.
    </p>

    <div class="bottom-buttons alias-item"> 
        <ion-input type="text" placeholder="Add address alias (optional)"  [class.failed]="unlockState == 'aliasFail'"  [(ngModel)]="formData.alias"
                   autocomplete="off" autocorrect="off" autocapitalize="off"
                   (ngModelChange)="checkAlias()"
        ></ion-input>
        <ion-spinner *ngIf="formData.aliasCheckInProgress" color="primary"></ion-spinner>
        <p *ngIf="formData.aliasValidationError" class="error-message">{{formData.aliasValidationError}}</p>
    </div>

    <div class="bottom-buttons">
      <ion-input placeholder="Invite Address or Alias" [class.failed]="unlockState == 'fail'"
                 [(ngModel)]="formData.parentAddress" autocomplete="off" autocorrect="off"
                 autocapitalize="off" (ionFocus)="onInputFocus()"></ion-input>
      <button (click)="createWallet()" ion-button icon-only translate [disabled]="formData.aliasCheckInProgress">
        <ion-icon name="arrow-forward"></ion-icon>
      </button>
    </div>

  </div>

</ion-content>
