<ion-header>
  <ion-navbar></ion-navbar>
</ion-header>

<ion-content fullscreen>

  <div class="container" *ngIf="!easyReceipt">

    <h1 class="title">
      Merit is an invite-only network
    </h1>

    <div class="illustration" translate>
      <img src="assets/img/invite.svg" alt="">
    </div>

    <p class="text" translate>
      You'll need an unlock code from a friend or colleague.
    </p>

      <div class="bottom-buttons">
          <div *ngIf="formData.addressCheckError" class="error-message"><p>{{formData.addressCheckError}}</p></div>
          <div class="input-wrapper">
              <ion-input placeholder="Invite Code" [class.failed]="unlockState == 'fail'"
                         [(ngModel)]="formData.parentAddress" autocomplete="off" autocorrect="off"
                         autocapitalize="off" (ionFocus)="onInputFocus()"  (ngModelChange)="checkAddress()"></ion-input>
              <ion-spinner *ngIf="formData.addressCheckInProgress" color="primary"></ion-spinner>
              <img class="stop-sign" *ngIf="formData.addressCheckError" src="assets/img/icons/error-stop.svg">
              <button ion-button clear class="qr-button" (click)="openQrScanner()" *ngIf="!formData.addressCheckError && !formData.addressCheckInProgress">
                  <img src="assets/img/icons/qr.svg">
              </button>
          </div>

          <button block ion-button icon-only translate (click)="toAliasView()">
              Next<ion-icon name="ios-arrow-forward-outline" class="forward-button"></ion-icon>
          </button>
      </div>


  </div>

  <div *ngIf="easyReceipt" class="container">

    <img src="assets/img/logo-negative.svg" id="logo"/>

    <h1 class="title" translate>
      You've got Merit!!
    </h1>

    <p class="text" translate>
      {{easyReceipt.senderName ? easyReceipt.senderName : 'Someone'}}
      sent you
      <strong>{{easyReceipt.amount ? easyReceipt.amount : ''}}</strong>
      Merit.
    </p>

    <p class="text">
      Now you need to enter unlock code to setup your account and accept Merit.
    </p>

    <div class="bottom-buttons">
      <div *ngIf="formData.addressCheckError" class="error-message"><p>{{formData.addressCheckError}}</p></div>
      <div class="input-wrapper">
          <ion-input placeholder="Invite Code" [class.failed]="unlockState == 'fail'"
                     [(ngModel)]="formData.parentAddress" autocomplete="off" autocorrect="off"
                     autocapitalize="off" (ionFocus)="onInputFocus()"  (ngModelChange)="checkAddress()"></ion-input>
          <ion-spinner *ngIf="formData.addressCheckInProgress" color="primary"></ion-spinner>
          <img class="stop-sign" *ngIf="formData.addressCheckError" src="assets/img/icons/error-stop.svg">
      </div>

      <button block ion-button icon-only translate (click)="toAliasView()">
          Next<ion-icon name="ios-arrow-forward-outline" class="forward-button"></ion-icon>
      </button>
    </div>

  </div>

</ion-content>
