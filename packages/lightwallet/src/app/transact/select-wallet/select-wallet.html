<ion-header no-border>
  <ion-navbar color="light">
    <ion-title>Select Wallet</ion-title>
    <ion-buttons end>
      <button ion-button (click)="cancel()" translate>
        Cancel
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
  <!-- TODO indicate whether wallet is locked -->
  <div *ngIf="wallets">
    <button ion-item detail-none *ngFor="let wallet of wallets" [class.selected]="selectedWallet.id == wallet.id" (click)="select(wallet)">
      <ion-label>
        <h2 translate>
          {{wallet.name || wallet._id}}
        </h2>
        <p>
          <span *ngIf="!wallet.confirmed">Not unlocked</span>
          <span *ngIf="wallet.confirmed && !wallet.isComplete()" class="assertive" translate>Incomplete</span>
          <span *ngIf="wallet.confirmed &&  wallet.isComplete()">
                <span *ngIf="wallet.status && !wallet.balanceHidden">
                    {{wallet.status.totalBalanceStr}}
                    <small *ngIf="wallet.status.totalBalanceMicros != wallet.status.spendableAmount">({{wallet.status.spendableBalanceStr}} available)</small>
                </span>
                <span *ngIf="wallet.balanceHidden" translate>
                [Balance Hidden]
                </span>
                <span *ngIf="wallet.n > 1">
                {{wallet.m}}-of-{{wallet.n}}
                </span>
                <ion-icon
                  *ngIf="!wallet.balanceHidden && wallet.status && (wallet.status.totalBalanceMicros != wallet.status.spendableAmount)"
                  name="timer-outline"></ion-icon>

                <span class="error" *ngIf="wallet.error">{{wallet.error}}</span>
                </span>
        </p>
      </ion-label>
      <ion-note class="wallet-color-indicator" item-end>
        <span  [class.default]="!wallet.color" [style.background]="wallet.color"></span>
      </ion-note>
    </button>
  </div>
</ion-content>
