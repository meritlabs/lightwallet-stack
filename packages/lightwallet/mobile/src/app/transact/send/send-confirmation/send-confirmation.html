<ion-header>

  <ion-navbar color="light">
    <ion-title>Confirm send</ion-title>
  </ion-navbar>

</ion-header>

<ion-content>

  <div *ngIf="viewData">
    <ion-list>
      <ion-item class="recipient" text-wrap *ngIf="viewData?.recipient?.name?.formatted">
        <ion-avatar item-start img-icon>
          <img [src]="sanitizePhotoUrl(viewData.recipient.photos[0]?.value)" *ngIf="viewData.recipient?.photos?.length">
          <span color="primary">{{getContactInitials(viewData.recipient)}}</span>
        </ion-avatar>
        <ion-label>
          <p>Recipient</p>
          <h2>{{ viewData.recipient?.name?.formatted }}</h2>
        </ion-label>
      </ion-item>

      <ion-item text-wrap class="destination" *ngIf="viewData.destination">
        <ion-avatar item-start img-icon>
            <img src="assets/img/icons/merit.svg">
        </ion-avatar>
        <ion-label>
          <p>Destination</p>
          <h2>{{ viewData.destination }}</h2>
        </ion-label>
      </ion-item>

      <ion-item>
        <ion-avatar item-start img-icon>
          <img src="assets/img/icons/merit.svg">
        </ion-avatar>
        <ion-label>
          <p>Method</p>
          <h2>{{ viewData.methodName }}</h2>
        </ion-label>
      </ion-item>

      <ion-item>
        <ion-avatar item-start img-icon>
          <img src="assets/img/icons/merit.svg">
        </ion-avatar>
        <ion-label>
          <p>Send</p>
          <h2>
            {{ viewData.amount | toMRT }}
            <span class="right">{{ viewData.amount | toFiat }}</span>
          </h2>
          <p class="fee">
            Fee {{ viewData.fee  | toMRT }}
            <span class="right">{{ viewData.fee | toFiat }}</span>
          </p>
          <p class="total">
            Total {{ viewData.totalAmount | toMRT }}
            <span class="right">{{ viewData.totalAmount | toFiat }}</span>
          </p>
        </ion-label>
      </ion-item>

      <ion-item>
        <ion-avatar item-start img-icon [class.default]="!viewData.walletColor"
                    [style.box-shadow]="viewData.walletColor ? '0 0 0 2px ' + viewData.walletColor : ''">
          <img src="assets/img/icons/wallet.svg">
        </ion-avatar>
        <ion-label>
          <p>From</p>
          <h2>{{ viewData.walletName }}</h2>
          <p class="before-after">
            <span class="before">{{ viewData.walletCurrentBalance | toMRT }} </span>
            <span class="after">{{ viewData.walletRemainingBalance | toMRT }}</span>
          </p>
        </ion-label>
      </ion-item>
    </ion-list>

    <ion-list>
      <ion-item *ngIf="viewData.password">
        <ion-avatar item-start img-icon>
          <img src="assets/img/icons/unlock.svg">
        </ion-avatar>
        <ion-label stacked>Password</ion-label>
        <ion-input [(ngModel)]="viewData.password" [type]="showPassword? 'text' : 'password'" disabled></ion-input>
        <button ion-button clear color="primary" item-end (click)="showPassword = !showPassword">{{ showPassword? 'Hide'
          : 'Show' }}
        </button>
      </ion-item>
    </ion-list>
  </div>

</ion-content>

<ion-footer >
  <slide-to-action text="Slide to Send" (confirm)="send()"></slide-to-action>
</ion-footer>
