<ion-header no-border>
  <ion-navbar color="primary">
    <ion-title>Confirm Transaction</ion-title>
  </ion-navbar>
</ion-header>
<ion-content>
  <ng-container *ngIf="ctrl">
    <div class="big-header" text-center>
      <h2>{{ ctrl.amountMrt.value }} <small>MRT</small></h2>
    </div>
    <ion-list>
      <ion-item text-wrap class="destination">
        <ion-avatar item-start img-icon>
            <img src="assets/img/icons/merit.svg">
        </ion-avatar>
        <ion-label>
          <p>Sending to</p>
          <h2>{{ recipient?.name?.formatted? recipient.name.formatted : sendMethod?.type == 'easy' ? 'MeritMoney Link' : (sendMethod?.alias? '@' + sendMethod?.alias : sendMethod?.value) }}</h2>
        </ion-label>
      </ion-item>

      <ion-item>
        <ion-avatar item-start img-icon>
          <img src="assets/img/icons/wallet.svg">
        </ion-avatar>
        <ion-label>
          <p>Sending from</p>
          <h2>{{ ctrl.wallet.value.name }}</h2>
        </ion-label>
      </ion-item>

      <ion-item *ngIf="ctrl.password.value">
        <ion-avatar item-start img-icon>
          <img src="assets/img/icons/unlock.svg">
        </ion-avatar>

        <ion-label stacked>
          <p>Password set</p>
        </ion-label>
        <ion-input type="text" disabled [value]="ctrl.password.value" class="password-input" [class.show]="showPassword"></ion-input>

        <button ion-button item-end (click)="showPassword = !showPassword" clear>
          {{ showPassword? 'Hide' : 'Show' }}
        </button>
      </ion-item>

      <ion-item>
        <ion-label>
          <p>Fee</p>
          <h2>{{ ctrl.lastReceipt.fee | toMRT }}</h2>
        </ion-label>
      </ion-item>

      <ion-item>
        <ion-label>
          <p>Total</p>
          <h2>{{ ctrl.lastReceipt.amount | toMRT }}</h2>
        </ion-label>
      </ion-item>

    </ion-list>
  </ng-container>
</ion-content>

<ion-footer>
  <slide-to-action text="Slide to Send" (confirm)="send()"></slide-to-action>
</ion-footer>
