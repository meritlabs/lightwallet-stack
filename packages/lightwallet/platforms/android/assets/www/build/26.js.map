{"version":3,"sources":["../../src/app/wallets/set-wallet-password/set-wallet-password.module.ts","../../src/app/wallets/set-wallet-password/set-wallet-password.ts"],"names":[],"mappings":"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","file":"26.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SetWalletPasswordView } from './set-wallet-password';\n\n@NgModule({\n  declarations: [\n    SetWalletPasswordView,\n  ],\n  imports: [\n    IonicPageModule.forChild(SetWalletPasswordView),\n  ],\n})\nexport class $$moduleName$$Module {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/wallets/set-wallet-password/set-wallet-password.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport {MeritToastController} from \"merit/core/toast.controller\";\nimport {ToastConfig} from \"merit/core/toast.config\";\nimport {WalletService} from \"merit/wallets/wallet.service\";\n\n\n@IonicPage()\n@Component({\n  selector: 'view-set-wallet-password',\n  templateUrl: 'set-wallet-password.html',\n})\nexport class SetWalletPasswordView {\n\n  public wallet:any;\n\n  public isWalletEncrypted:boolean;\n\n  public formData = {\n    password: '',\n    repeatPassword: '',\n    currentPassword: ''\n  };\n\n  constructor(\n    private navCtrl: NavController,\n    private navParams: NavParams,\n    private toastCtrl:MeritToastController,\n    private walletService:WalletService\n  ) {\n\n      this.wallet = navParams.get('wallet');\n      this.isWalletEncrypted = this.walletService.isEncrypted(this.wallet);\n  }\n\n  public setPassword() {\n\n\n    if (this.formData.password != this.formData.repeatPassword) {\n      return this.toastCtrl.create({\n        message: \"Passwords don't match\",\n        cssClass: ToastConfig.CLASS_ERROR\n      }).present();\n    }\n\n\n    let encrypt = () => {\n      this.walletService.encrypt(this.wallet, this.formData.password).then(() => {\n        this.navCtrl.pop();\n      }).catch((err) => {\n        return this.toastCtrl.create({\n          message: err,\n          cssClass: ToastConfig.CLASS_ERROR\n        }).present();\n      });\n    };\n\n\n\n    if (this.isWalletEncrypted) {\n      this.walletService.decrypt(this.wallet, this.formData.currentPassword).then(() => {\n        return encrypt();\n      }).catch((err) => {\n        return this.toastCtrl.create({\n          message: \"Incorrect current password\",\n          cssClass: ToastConfig.CLASS_ERROR\n        }).present();\n      })\n    } else {\n      return encrypt();\n    }\n\n  }\n\n  public saveEnabled() {\n    return (\n      this.formData.password\n      && (this.isWalletEncrypted ? this.formData.currentPassword : true)\n    );\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/wallets/set-wallet-password/set-wallet-password.ts"],"sourceRoot":""}