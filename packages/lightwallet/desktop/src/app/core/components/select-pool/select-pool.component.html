<div class="selectbox" [ngClass]="{'selectbox--disabled' : input?.length === 0}">
    <button (click)="show=!show" (blur)="onBlur()"
            class="{{ cssClass }} selectbox__selected"  role="button" type="button">
        <img src="{{selected?.iconUrl}}" alt="" *ngIf="selected?.iconUrl" class="selectbox__dropdown__icon">
        <span *ngIf="selected?.color" [style.background]="selected?.color" class="selectbox__color"></span>
        <span>{{ input?.length > 0 ? selected?.name : "No items to select" }}</span>
    </button>
    <ul class="selectpool__dropdown selectbox__dropdown showHidden" [hidden]="!show || input?.length === 0" [ngClass]="{'showHidden--animated' : show}">
        <li *ngFor="let item of input">
            <img *ngIf="item.removable" src="/assets/v1/icons/rubbish-bin.svg" alt="" class="selectbox__dropdown__icon selectbox__dropdown__icon-hover" (click)="deletePool(item)">
            <img *ngIf="item.removable" src="/assets/v1/icons/edit.svg" alt="" class="selectbox__dropdown__icon selectbox__dropdown__icon-hover" (click)="editPool(item)">
            <button (click)="select(item)" class="selectbox__dropdown__item" role="button" type="button">
                <img src="{{item?.iconUrl}}" alt="" *ngIf="item?.iconUrl" class="selectbox__dropdown__icon">
                <span *ngIf="item?.color" [style.background]="item?.color" class="selectbox__color"></span>
                <span>{{ item?.name }}</span>
            </button>
        </li>

        <!-- Add new pool button -->
        <li>
            <img src="/assets/v1/icons/add.svg" alt="" class="selectbox__dropdown__icon selectbox__dropdown__icon-hover" (click)="addNewPool()">

            <button (click)="addNewPool()" class="selectbox__dropdown__item" role="button" type="button">
                <span>Add own(custom) pool</span>
            </button>
        </li>
    </ul>
</div>

<add-pool-modal [show]="showModal" [pool]="activePoolToEdit" (onSave)="saved($event)" (onClose)="close()"></add-pool-modal>
