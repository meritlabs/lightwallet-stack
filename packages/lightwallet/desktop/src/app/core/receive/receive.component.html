<div class="container--fluid receiveMerit">
  <div class="receiveMerit__header container--inner title--primary">
    <p>Receive Merit</p>
  </div>
  <div class="receiveMerit__content container--inner">
    <div class="receiveMerit__form">
      <div class="receiveMerit__form__group">
        <label for="receiveAmount" class="ui-label">Amount</label>
        <div class="ui-input__wrapper ui-input__wrapper--mrt">
          <input type="text" name="" id="receiveAmount" value="" (keyup)="onKey($event)" class="ui-input ui-input--form ui-input--text">
          <div class="ui-input__addon">MRT</div>
        </div>
        <div class="ui-input__wrapper ui-input__wrapper--currency">
          <input type="text" name="" value="{{converted}}" disabled class="ui-input ui-input--form ui-input--text">
          <div class="ui-input__addon">
            <app-select (selectionEvent)="selectCurrency($event)" [selected]="selectedCurrency" [input]="availableCurrencies" style="ui-button ui-button--transparent ui-button--md ui-button--with-caret"></app-select>
          </div>
        </div>
      </div>
      <div *ngIf="wallets$ | async as wallets; else empty">
        <div class="receiveMerit__form__group">
          <label for="" class="ui-label">Receive in</label>
          <app-select (selectionEvent)="selectWallet($event)" [selected]="selectedWallet" [input]="wallets" style="ui-input ui-input--select ui-input--form"></app-select>
        </div>

        <div *ngIf="address" class="receiveMerit__form__group">
          <label for="" class="ui-label">Address</label>
          <input type="text" name="" [value]="address"  disabled="disabled" placeholder="Loading address.." class="ui-input ui-input--form ui-input--text">
        </div>
        <div *ngIf="alias" class="receiveMerit__form__group">
          <label for="" class="ui-label">Alias</label>
          <input type="text" name="" [value]="alias"  disabled="disabled" placeholder="Loading alias.." class="ui-input ui-input--form ui-input--text">
        </div>
      </div>
    </div>
    <ng-template #empty>
      <div class="receiveMeritEmpty">
        <div class="receiveMeritEmpty__header">
          <h3>You need to create a wallet before you can receive Merit.</h3>
        </div>
        <div class="receiveMeritEmpty__description"><a href="/wallets">Click here</a> to create one.</div>
      </div>
    </ng-template>
    <div class="receiveMerit__totals">
      <div class="receiveMerit__totals__qr">
        <div class="receiveMerit__totals__qr__box">
            <ng-container  *ngIf="qrAddress">
              <ng-template [ngIf]="address" [ngIfElse]="qrLoading">
                <qr-code [value]="qrAddress" [level]="M" [size]="220" [foreground]="'#334'">
                </qr-code>
              </ng-template>
              <ng-template #qrLoading>
                <img src="/assets/v1/images/receive-merit/qr-example.png" alt="">
              </ng-template>
            </ng-container >
        </div>
        <h3>or</h3>
        <button class="receiveMerit__totals__qr__copy">Copy Link</button>
      </div>
    </div>
  </div>
  <div class="receiveMerit__footer">
    <div class="container--inner">
      <p class="receiveMerit__footer__caption">You can also buy Merit using your credit or debit card, Paypal or bank transfer</p>
      <button type="button" name="button" [routerLink]='"/send"' class="ui-button ui-button--blue ui-button--with-arrow">Send Merit</button>
    </div>
  </div>
</div>