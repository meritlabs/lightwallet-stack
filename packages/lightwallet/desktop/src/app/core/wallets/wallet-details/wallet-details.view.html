<ng-container *ngIf="wallet$ | async as wallet; else walletLoading">
  <div class="wallet-details container--fluid">
    <div class="wallet-details__header" [style.background]="wallet.color">
      <div class="wallet-details__header__wrap container--inner">
        <div class="details">
          <div class="name-container">
            <!-- TODO(ibby/fedor): switch icon to vault if we're looking at a vault -->
            <merit-icon name="wallet"></merit-icon>
            <div class="name">{{ wallet.name }}</div>
          </div>
          <div class="address">{{ wallet.alias? '@' + wallet.alias : wallet.referrerAddress }}</div>
          <div class="balance">
            <ng-container *ngIf="!wallet.balanceHidden; else balanceHidden">
              {{ wallet.totalBalanceStr }} <small>MRT</small>
              <br>
              {{ wallet.invites }} <small>Invites</small>
            </ng-container>
            <ng-template #balanceHidden>
              [Balance hidden]
            </ng-template>
          </div>
        </div>
      </div>
    </div>
    <div class="wallet-details__content">
      <div class="wallet-details__content__navigation">
        <ul>
          <li><a [routerLink]="['history']" routerLinkActive="active">Wallet transactions</a></li>
          <li><a [routerLink]="['receive']" [queryParams]="{ injected: true }" routerLinkActive="active">Receive Merit</a></li>
          <li><a [routerLink]="['send']" [queryParams]="{ amount: 200, injected: true }" routerLinkActive="active">Send Merit</a></li>
          <li><a [routerLink]="['settings']" routerLinkActive="active">Wallet preferences</a></li>
        </ul>
      </div>
      <div class="wallet-details__content__wrap container--inner">
        <router-outlet></router-outlet>
      </div>
    </div>
  </div>
</ng-container>
<ng-template #walletLoading>
  Wallet loading...
  <!-- TODO(Vova) show a big loading spinner w/ merit logo -->
</ng-template>
