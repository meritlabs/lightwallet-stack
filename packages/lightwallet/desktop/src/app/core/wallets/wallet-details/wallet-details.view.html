<ng-container *ngIf="wallet$ | async as wallet; else walletLoading">
  <div class="wallet-details container--fluid">
    <div class="wallet-details__header" [style.background]="wallet.color">
      <div class="wallet-details__header__wrap container--inner">
        <div class="details">
          <div class="name-container">
            <!-- TODO(ibby/fedor): switch icon to vault if we're looking at a vault -->
            <div class="wallet__name"><merit-icon name="wallet"></merit-icon> {{ wallet.name }}</div>
          </div>
          <div class="wallet__details">
            <div class="wallet__address">{{ wallet.alias? '@' + wallet.alias : wallet.referrerAddress }}</div>
            <div class="wallet__balance">
              <ng-container *ngIf="!wallet.balanceHidden; else balanceHidden">
                {{ wallet.totalBalanceStr }} <small>MRT ({{ wallet.totalBalanceFiat }})</small>
              </ng-container>
              <ng-template #balanceHidden>
                [Balance hidden]
              </ng-template>
            </div>
            <div class="wallet__invites">
              {{ wallet.invites }} <small>Invites</small>
            </div>
          </div>
          <div class="wallet__navigation">
            <div class="wallet__button wallet__button--send" [routerLink]="'/send'">
              Send
            </div>
            <div class="wallet__button"  [routerLink]="'/receive'">
              Receive
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="wallet-details__content">
      <div class="wallet-details__content__navigation">
        <ul>
          <li><a [routerLink]="['history']" routerLinkActive="active">Wallet transactions</a></li>
          <li><a [routerLink]="['settings']" routerLinkActive="active">Wallet preferences</a></li>
        </ul>
      </div>
      <div class="wallet-details__content__wrap container--inner">
        <router-outlet></router-outlet>
      </div>
    </div>
  </div>
</ng-container>
<ng-template #walletLoading>
  Wallet loading...
  <!-- TODO(Vova) show a big loading spinner w/ merit logo -->
</ng-template>
