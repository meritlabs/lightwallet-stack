{"version":3,"sources":["../../src/app/shared/address-book/address-book.module.ts","../../src/app/shared/address-book/edit-contact/edit-contact.module.ts","../../src/app/shared/address-book/address-book.service.ts","../../node_modules/@ionic-native/contacts/index.js","../../src/app/shared/address-book/merit-contact.builder.ts","../../src/app/shared/gravatar.module.ts","../../src/app/shared/address-book/merit-contact.model.ts","../../src/app/transact/send/send.service.ts","../../src/app/shared/gravatar.component.ts","../../node_modules/ts-md5/dist/md5.js","../../src/app/shared/address-book/merit-contact.service.ts","../../src/app/shared/address-book/address-book.ts","../../src/app/shared/address-book/edit-contact/edit-contact.ts"],"names":[],"mappings":"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C,+CAAS,CAAC,EAAE,CAAC,CAAC;oBAAC,EAAE,GAAG,EAAE,CAAC;gBAC1B,OAAO,CAAC,EAAE,CAAC,CAAC;YACd,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;CACF;AAlIY,kBAAkB;IAD9B,iEAAU,EAAE;qCAGmB,0FAAkB;QACrB,oFAAe;QACjB,kFAAa;QACnB,wEAAQ;QACT,iEAAM;QACM,4GAAmB;GAPtC,kBAAkB,CAkI9B;AAlI8B;;;;;;;;;;;;;;;;;AClB/B;AAAA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACqB;AAC8G;AACnI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACO;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACO;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACO;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACO;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACO;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACO;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,+CAA+C;AAC1D;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,mBAAmB;AACzC,uBAAuB,oBAAoB;AAC3C,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA,+DAA+D,yCAAyC,EAAE;AAC1G,SAAS;AACT;AACA;AACA,SAAS,kEAAmB;AAC5B;AACA;AACA,2CAA2C,WAAW;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACO;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;;;;;;;;;;;;;;;;ACjT2C;AAEqD;AACnB;AAG7E,IAAa,mBAAmB,GAAhC;IAEE,YACU,qBAA8B;QAA9B,0BAAqB,GAArB,qBAAqB,CAAS;IAExC,CAAC;IAGM,KAAK,CAAC,UAA6B,EAAE;QAC1C,IAAI,KAAK,GAAG,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAA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AAC;QAC5C,QAAQ,EAAE;;;CAGX;KACC,CAAC;GACU,iBAAiB,CAa7B;AAb6B;;;;;;;;;ACZ9B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,aAAa;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,aAAa;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,gBAAgB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,gBAAgB;AACnC;AACA;AACA;AACA;AACA,6BAA6B,aAAa;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,IAAI;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,+B;;;;;;;;;;;;;;;;;;;;;;;;AChZoC;AACO;AAGyC;AAChC;AACT;AAE3C;;GAEG;AAGH,IAAa,mBAAmB,GAAhC;IAGE,YACU,kBAAqC,EACrC,UAAsB,EACtB,MAAc;QAFd,uBAAkB,GAAlB,kBAAkB,CAAmB;QACrC,eAAU,GAAV,UAAU,CAAY;QACtB,WAAM,GAAN,MAAM,CAAQ;QAEtB,IAAI,CAAC,OAAO,GAAG,UAAU,CAAC,UAA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","file":"7.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SendView } from 'merit/transact/send/send';\nimport { SendService } from \"merit/transact/send/send.service\";\nimport { GravatarModule } from 'merit/shared/gravatar.module';\nimport { GravatarComponent } from 'merit/shared/gravatar.component';\nimport { WalletService } from \"merit/wallets/wallet.service\";\nimport { WalletsModule } from \"merit/wallets/wallets.module\";\nimport { AddressBookView } from 'merit/shared/address-book/address-book';\nimport { AddressBookService } from 'merit/shared/address-book/address-book.service';\nimport { Contacts } from '@ionic-native/contacts';\nimport { MeritContactBuilder } from \"merit/shared/address-book/merit-contact.builder\";\nimport { MeritContactService } from \"merit/shared/address-book/merit-contact.service\";\n\n\n// This module manaages the sending of money.\n// This is the first of three steps.\n@NgModule({ \n  declarations: [\n    AddressBookView \n  ],\n  imports: [\n    IonicPageModule.forChild(AddressBookView),\n    GravatarModule\n    ],\n  providers: [\n    WalletService,\n    SendService,\n    Contacts,\n    MeritContactBuilder,\n    AddressBookService,\n    MeritContactService\n  ],\n  exports: [\n  ]\n})\nexport class AddressBookModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/address-book/address-book.module.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EditContactView } from 'merit/shared/address-book/edit-contact/edit-contact';\nimport { MeritContactBuilder } from \"merit/shared/address-book/merit-contact.builder\";\nimport { Contacts } from '@ionic-native/contacts';\nimport { AddressBookModule } from \"merit/shared/address-book/address-book.module\";\n\n@NgModule({\n  declarations: [\n    EditContactView,\n  ],\n  imports: [\n    AddressBookModule,\n    IonicPageModule.forChild(EditContactView)\n  ],\n  providers: [\n  ]\n})\nexport class EditContactComponentModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/address-book/edit-contact/edit-contact.module.ts","import { Injectable } from '@angular/core';\nimport * as Promise from 'bluebird';\nimport * as _ from 'lodash';\n\nimport { PersistenceService } from 'merit/core/persistence.service';\n\nimport { Contacts, Contact, ContactFieldType, IContactFindOptions } from '@ionic-native/contacts';\nimport { MeritContact, AddressBook } from 'merit/shared/address-book/merit-contact.model';\nimport { PlatformService } from 'merit/core/platform.service';\nimport { MeritContactBuilder } from 'merit/shared/address-book/merit-contact.builder';\nimport { Logger } from 'merit/core/logger';\nimport { ConfigService } from 'merit/shared/config.service';\n\n\n/**\n * This service looks up entered addresses against the address book.\n */\n@Injectable()\nexport class AddressBookService {\n  constructor(\n    private persistenceService: PersistenceService,\n    private platformService: PlatformService,\n    private configService: ConfigService,\n    private contacts:Contacts,\n    private logger: Logger,\n    private meritContactBuilder:MeritContactBuilder\n  ) {}\n\n  public get(addr: string, network: string): Promise<MeritContact> {\n    return this.getAddressbook(network).then((addressBook) => {\n      if (addressBook && addressBook[addr]) {\n        return Promise.resolve(addressBook[addr]);\n      }\n      return Promise.reject(new Error('contact with address ' + addr + ' not found'));\n    }, (err) => {\n      return Promise.reject(new Error('error getting addressBook entry: ' + err));\n    });\n  };\n\n  public list(network: string): Promise<AddressBook> {\n    return this.getAddressbook(network).then((addressBook) => {\n      return Promise.resolve(addressBook);\n    }).catch((err) => {\n      return Promise.reject(new Error('error listing addressBook: ' + err));\n    });\n  };\n\n  public searchDeviceContacts(term: string): Promise<Contact[]> {\n    let options: IContactFindOptions = {filter: term, multiple: true};\n    let fields: ContactFieldType[] = ['name', 'phoneNumbers', 'emails'];\n\n    if(!this.platformService.isMobile) return Promise.resolve([]);\n\n    return Promise.resolve(this.contacts.find(fields, options)).catch((err) => {\n      return Promise.resolve([]);\n    })\n  };\n\n  public getAllDeviceContacts(): Promise<Contact[]> {\n    return this.searchDeviceContacts('');\n  }\n\n  public searchContacts(contacts: MeritContact[], searchQuery: string): MeritContact[] {\n    searchQuery = searchQuery.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n    let exp = new RegExp(searchQuery, 'ig');\n    return _.filter(contacts, (contact) => {\n\n      if (contact.name.formatted && contact.name.formatted.match(exp)) return true;\n      if (_.some(contact.emails, (email) => email.value.match(exp))) return true;\n      if (_.some(contact.phoneNumbers, (phoneNumber) => phoneNumber.value.match(exp))) return true;\n      if (_.some(contact.meritAddresses, (address) => address.address.match(exp))) return true;\n\n      return false;\n\n    });\n  }\n\n  public getAllMeritContacts(): Promise<MeritContact[]> {\n\n    return this.getAllDeviceContacts().then((deviceContacts) => {\n\n      return this.getAddressbook(this.configService.getDefaults().network.name).then((localContacts) => {\n\n        let contacts = _.map(\n          _.filter(deviceContacts,\n            contact => !_.isEmpty(contact.phoneNumbers) || !_.isEmpty(contact.emails)\n          ),\n          contact => this.meritContactBuilder.build(contact)\n        );\n\n        _.each(_.map(localContacts, contact => contact), (contact) => {\n          let currentContact = _.find(contacts, {id: contact.id});\n          if(currentContact) {\n            currentContact.meritAddresses = contact.meritAddresses;\n          } else {\n            contacts.push(contact);\n          }\n        })\n\n        return contacts.sort((a,b) => {\n          if (!(_.isEmpty(a.meritAddresses) || _.isEmpty(b.meritAddresses)) || \n               (_.isEmpty(a.meritAddresses) && (_.isEmpty(b.meritAddresses)))) {\n            return a.name.formatted > b.name.formatted ? 1 : -1;\n          }\n           return (!_.isEmpty(a.meritAddresses)) ? -1 : 1;\n        });\n\n      })\n    });\n  }\n\n  public add(entry: MeritContact, address:string, network: string): Promise<AddressBook> {\n    return new Promise((resolve, reject) => {\n      return this.getAddressbook(network).then((addressBook) => {\n        if (addressBook[address]) return reject(new Error('contact already exists'));\n        addressBook[address] = entry;\n        return this.persistenceService.setAddressbook(network, addressBook).then(() => {\n          return resolve(addressBook);\n        });\n      });\n    });\n  };\n\n  public remove(addr: string, network: string): Promise<AddressBook> {\n    return new Promise((resolve, reject) => {\n      this.getAddressbook(network).then((addressBook) => {\n        delete addressBook[addr];\n        return this.persistenceService.setAddressbook(network, addressBook).then(() => {\n          return resolve(addressBook);\n        });\n      });\n    });\n  };\n\n  public removeAll(network: string): Promise<void> {\n    return this.persistenceService.removeAddressbook(network).catch((err) => {\n      return Promise.reject(new Error('could not removeAll contacts: ' + err))\n    });\n  };\n\n  public getAddressbook(network: string): Promise<AddressBook> {\n    return new Promise((resolve, reject) => {\n      return this.persistenceService.getAddressbook(network).then((ab) => {\n        if(_.isEmpty(ab)) ab = {};\n        resolve(ab);\n      });\n    });\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/address-book/address-book.service.ts","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nimport { Injectable } from '@angular/core';\r\nimport { CordovaInstance, InstanceProperty, Plugin, getPromise, InstanceCheck, checkAvailability, CordovaCheck, IonicNativePlugin } from '@ionic-native/core';\r\n/**\r\n * @hidden\r\n */\r\nvar Contact = (function () {\r\n    function Contact() {\r\n        if (checkAvailability('navigator.contacts', 'create', 'Contacts') === true) {\r\n            this._objectInstance = navigator.contacts.create();\r\n        }\r\n    }\r\n    Contact.prototype.clone = function () {\r\n        var newContact = new Contact();\r\n        for (var prop in this) {\r\n            if (prop === 'id')\r\n                return;\r\n            newContact[prop] = this[prop];\r\n        }\r\n        return newContact;\r\n    };\r\n    Contact.prototype.remove = function () { return; };\r\n    Contact.prototype.save = function () {\r\n        var _this = this;\r\n        return getPromise(function (resolve, reject) {\r\n            _this._objectInstance.save(function (contact) {\r\n                _this._objectInstance = contact;\r\n                resolve(_this);\r\n            }, reject);\r\n        });\r\n    };\r\n    __decorate([\r\n        InstanceProperty,\r\n        __metadata(\"design:type\", String)\r\n    ], Contact.prototype, \"id\", void 0);\r\n    __decorate([\r\n        InstanceProperty,\r\n        __metadata(\"design:type\", String)\r\n    ], Contact.prototype, \"displayName\", void 0);\r\n    __decorate([\r\n        InstanceProperty,\r\n        __metadata(\"design:type\", Object)\r\n    ], Contact.prototype, \"name\", void 0);\r\n    __decorate([\r\n        InstanceProperty,\r\n        __metadata(\"design:type\", String)\r\n    ], Contact.prototype, \"nickname\", void 0);\r\n    __decorate([\r\n        InstanceProperty,\r\n        __metadata(\"design:type\", Array)\r\n    ], Contact.prototype, \"phoneNumbers\", void 0);\r\n    __decorate([\r\n        InstanceProperty,\r\n        __metadata(\"design:type\", Array)\r\n    ], Contact.prototype, \"emails\", void 0);\r\n    __decorate([\r\n        InstanceProperty,\r\n        __metadata(\"design:type\", Array)\r\n    ], Contact.prototype, \"addresses\", void 0);\r\n    __decorate([\r\n        InstanceProperty,\r\n        __metadata(\"design:type\", Array)\r\n    ], Contact.prototype, \"ims\", void 0);\r\n    __decorate([\r\n        InstanceProperty,\r\n        __metadata(\"design:type\", Array)\r\n    ], Contact.prototype, \"organizations\", void 0);\r\n    __decorate([\r\n        InstanceProperty,\r\n        __metadata(\"design:type\", Date)\r\n    ], Contact.prototype, \"birthday\", void 0);\r\n    __decorate([\r\n        InstanceProperty,\r\n        __metadata(\"design:type\", String)\r\n    ], Contact.prototype, \"note\", void 0);\r\n    __decorate([\r\n        InstanceProperty,\r\n        __metadata(\"design:type\", Array)\r\n    ], Contact.prototype, \"photos\", void 0);\r\n    __decorate([\r\n        InstanceProperty,\r\n        __metadata(\"design:type\", Array)\r\n    ], Contact.prototype, \"categories\", void 0);\r\n    __decorate([\r\n        InstanceProperty,\r\n        __metadata(\"design:type\", Array)\r\n    ], Contact.prototype, \"urls\", void 0);\r\n    __decorate([\r\n        InstanceCheck(),\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", Contact)\r\n    ], Contact.prototype, \"clone\", null);\r\n    __decorate([\r\n        CordovaInstance(),\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", Promise)\r\n    ], Contact.prototype, \"remove\", null);\r\n    __decorate([\r\n        InstanceCheck(),\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", Promise)\r\n    ], Contact.prototype, \"save\", null);\r\n    return Contact;\r\n}());\r\nexport { Contact };\r\n/**\r\n * @hidden\r\n */\r\nvar ContactName = (function () {\r\n    function ContactName(formatted, familyName, givenName, middleName, honorificPrefix, honorificSuffix) {\r\n        this.formatted = formatted;\r\n        this.familyName = familyName;\r\n        this.givenName = givenName;\r\n        this.middleName = middleName;\r\n        this.honorificPrefix = honorificPrefix;\r\n        this.honorificSuffix = honorificSuffix;\r\n    }\r\n    return ContactName;\r\n}());\r\nexport { ContactName };\r\n/**\r\n * @hidden\r\n */\r\nvar ContactField = (function () {\r\n    function ContactField(type, value, pref) {\r\n        this.type = type;\r\n        this.value = value;\r\n        this.pref = pref;\r\n    }\r\n    return ContactField;\r\n}());\r\nexport { ContactField };\r\n/**\r\n * @hidden\r\n */\r\nvar ContactAddress = (function () {\r\n    function ContactAddress(pref, type, formatted, streetAddress, locality, region, postalCode, country) {\r\n        this.pref = pref;\r\n        this.type = type;\r\n        this.formatted = formatted;\r\n        this.streetAddress = streetAddress;\r\n        this.locality = locality;\r\n        this.region = region;\r\n        this.postalCode = postalCode;\r\n        this.country = country;\r\n    }\r\n    return ContactAddress;\r\n}());\r\nexport { ContactAddress };\r\n/**\r\n * @hidden\r\n */\r\nvar ContactOrganization = (function () {\r\n    function ContactOrganization(type, name, department, title, pref) {\r\n        this.type = type;\r\n        this.name = name;\r\n        this.department = department;\r\n        this.title = title;\r\n        this.pref = pref;\r\n    }\r\n    return ContactOrganization;\r\n}());\r\nexport { ContactOrganization };\r\n/**\r\n * @hidden\r\n */\r\nvar ContactFindOptions = (function () {\r\n    function ContactFindOptions(filter, multiple, desiredFields, hasPhoneNumber) {\r\n        this.filter = filter;\r\n        this.multiple = multiple;\r\n        this.desiredFields = desiredFields;\r\n        this.hasPhoneNumber = hasPhoneNumber;\r\n    }\r\n    return ContactFindOptions;\r\n}());\r\nexport { ContactFindOptions };\r\n/**\r\n * @name Contacts\r\n * @description\r\n * Access and manage Contacts on the device.\r\n *\r\n * @usage\r\n *\r\n * ```typescript\r\n * import { Contacts, Contact, ContactField, ContactName } from '@ionic-native/contacts';\r\n *\r\n * constructor(private contacts: Contacts) { }\r\n *\r\n * let contact: Contact = this.contacts.create();\r\n *\r\n * contact.name = new ContactName(null, 'Smith', 'John');\r\n * contact.phoneNumbers = [new ContactField('mobile', '6471234567')];\r\n * contact.save().then(\r\n *   () => console.log('Contact saved!', contact),\r\n *   (error: any) => console.error('Error saving contact.', error)\r\n * );\r\n *\r\n * ```\r\n * @classes\r\n * Contact\r\n * @interfaces\r\n * IContactProperties\r\n * IContactError\r\n * IContactName\r\n * IContactField\r\n * IContactAddress\r\n * IContactOrganization\r\n * IContactFindOptions\r\n */\r\nvar Contacts = (function (_super) {\r\n    __extends(Contacts, _super);\r\n    function Contacts() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Create a single contact.\r\n     * @returns {Contact} Returns a Contact object\r\n     */\r\n    Contacts.prototype.create = function () {\r\n        return new Contact();\r\n    };\r\n    /**\r\n     * Search for contacts in the Contacts list.\r\n     * @param fields {ContactFieldType[]}  Contact fields to be used as a search qualifier\r\n     * @param options {IContactFindOptions} Optional options for the query\r\n     * @returns {Promise<Contact[]>} Returns a Promise that resolves with the search results (an array of Contact objects)\r\n     */\r\n    Contacts.prototype.find = function (fields, options) {\r\n        return getPromise(function (resolve, reject) {\r\n            navigator.contacts.find(fields, function (contacts) {\r\n                resolve(contacts.map(processContact));\r\n            }, reject, options);\r\n        });\r\n    };\r\n    /**\r\n     * Select a single Contact.\r\n     * @returns {Promise<Contact>} Returns a Promise that resolves with the selected Contact\r\n     */\r\n    Contacts.prototype.pickContact = function () {\r\n        return getPromise(function (resolve, reject) {\r\n            navigator.contacts.pickContact(function (contact) { return resolve(processContact(contact)); }, reject);\r\n        });\r\n    };\r\n    Contacts.decorators = [\r\n        { type: Injectable },\r\n    ];\r\n    /** @nocollapse */\r\n    Contacts.ctorParameters = function () { return []; };\r\n    __decorate([\r\n        CordovaCheck(),\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", [Array, Object]),\r\n        __metadata(\"design:returntype\", Promise)\r\n    ], Contacts.prototype, \"find\", null);\r\n    __decorate([\r\n        CordovaCheck(),\r\n        __metadata(\"design:type\", Function),\r\n        __metadata(\"design:paramtypes\", []),\r\n        __metadata(\"design:returntype\", Promise)\r\n    ], Contacts.prototype, \"pickContact\", null);\r\n    Contacts = __decorate([\r\n        Plugin({\r\n            pluginName: 'Contacts',\r\n            plugin: 'cordova-plugin-contacts',\r\n            pluginRef: 'navigator.contacts',\r\n            repo: 'https://github.com/apache/cordova-plugin-contacts',\r\n            platforms: ['Android', 'BlackBerry 10', 'Firefox OS', 'iOS', 'Ubuntu', 'Windows', 'Windows Phone 8']\r\n        })\r\n    ], Contacts);\r\n    return Contacts;\r\n}(IonicNativePlugin));\r\nexport { Contacts };\r\n/**\r\n * @hidden\r\n */\r\nfunction processContact(contact) {\r\n    var newContact = new Contact();\r\n    for (var prop in contact) {\r\n        if (typeof contact[prop] === 'function')\r\n            continue;\r\n        newContact[prop] = contact[prop];\r\n    }\r\n    return newContact;\r\n}\r\n//# sourceMappingURL=index.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@ionic-native/contacts/index.js\n// module id = 805\n// module chunks = 0 1 2 3 4 5 7 8 9","import { Injectable } from '@angular/core';\nimport * as _ from 'lodash';\nimport { Contacts, Contact as DeviceContact, IContactProperties } from '@ionic-native/contacts';\nimport { MeritContact } from 'merit/shared/address-book/merit-contact.model';\n\n@Injectable()\nexport class MeritContactBuilder {\n\n  constructor(\n    private deviceContactsService:Contacts\n  ) {\n  }\n\n\n  public build(contact:IContactProperties = {}) {\n    let clone = val => val ? JSON.parse(JSON.stringify(val)) : null;\n\n    let created = new MeritContact();\n\n    if (contact instanceof DeviceContact ) {\n      created.nativeModel = contact;\n      created.id = contact.id;\n    } else if (contact instanceof MeritContact) {\n      if (contact.nativeModel) {\n        created.nativeModel = contact.nativeModel;\n        created.id = contact.nativeModel.id;\n      } else {\n        created.id = contact.id || `merit-${new Date().getUTCMilliseconds()}`\n      }\n    } else  {\n      let deviceContact = this.deviceContactsService.create();\n      try {\n        //the only way we can check that contact was created properly.\n        // if cordova is not available, service returns object with non-working getters\n        let check = deviceContact.name;\n        created.nativeModel = deviceContact;\n      } catch (e) {\n        //we are in non-cordova environment, just leaving nativeModel empty\n      }\n    }\n\n    created.name = clone(contact.name) || {formatted: ''};\n    created.phoneNumbers = clone(contact.phoneNumbers) || [];\n    created.emails = clone(contact.emails) || [];\n    created.photos = clone(contact.photos) || [];\n\n    if (contact['meritAddresses']) {\n      created.meritAddresses = clone(contact['meritAddresses']) || [];\n    }\n\n    return created;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/address-book/merit-contact.builder.ts","import { NgModule } from '@angular/core';\nimport { GravatarComponent } from 'merit/shared/gravatar.component';\n\n// This module manaages the avatar/user-image of a user based on \n// email address.\n@NgModule({\n  declarations: [\n    GravatarComponent\n  ],\n  imports: [\n  ],\n  exports: [\n    GravatarComponent\n  ]\n})\nexport class GravatarModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/gravatar.module.ts","import * as _ from 'lodash';\nlet Bitcore = require('bitcore-lib');\n\nimport { Contact, IContactProperties, IContactName, IContactField } from '@ionic-native/contacts';\nexport interface AddressBook { [key:string]:MeritContact; }\n\nexport interface IMeritAddress {network:string, address:string}\n\nexport class MeritContact implements IContactProperties {\n\n  public id: string;\n  public name: IContactName = {formatted: ''};\n  public phoneNumbers: IContactField[] = [];\n  public emails: IContactField[] = [];\n  public photos: IContactField[] = [];\n  public urls: Array<any> = [];\n  public meritAddresses:Array<IMeritAddress> = [];\n\n  public nativeModel:Contact;\n\n  isValid() {\n    if (!this.name) return false;\n    if (!this.meritAddresses.length) return false;\n    let isValid = true;\n    this.meritAddresses.forEach((address) => {\n      if (!address.network) {\n        isValid = false\n      } else {\n        if (!Bitcore.Address.isValid(address.address)) isValid = false;\n      }\n    });\n    return isValid;\n  }\n\n  formatAddress() {\n    this.meritAddresses.forEach((val) => {\n      if (val.address.indexOf('merit:') == 0) val.address = val.address.split(':')[1];\n      try {\n        val.network = Bitcore.Address.fromString(val.address).network.name;\n        console.log('set network!', val.network);\n      } catch (e) { }\n    });\n\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/address-book/merit-contact.model.ts","import { Injectable } from '@angular/core';\nimport { BwcService } from 'merit/core/bwc.service';\nimport { RateService } from 'merit/transact/rate.service';\nimport { ConfigService } from 'merit/shared/config.service';\nimport { FiatAmount } from 'merit/shared/fiat-amount.model';\nimport { Logger } from 'merit/core/logger';\n\nimport * as Promise from 'bluebird';\n\nimport * as _ from \"lodash\";\n\n/* \n  Service to help manage sending merit to others.\n*/ \n@Injectable()\nexport class SendService {\n  private bitcore: any;\n\n  constructor(\n    private bwcService: BwcService,\n    private rate: RateService,\n    private config: ConfigService,    \n    private logger: Logger    \n  ) {\n    this.logger.info('Hello SendService');\n    this.bitcore = this.bwcService.getBitcore();\n  }\n\n  public isAddressValid(addr: string): Promise<boolean> {\n    // First, let's check to be sure it's the right format.\n    try {\n      let address = this.bitcore.Address.fromString(addr);\n      let network = address.network;\n      if (this.bitcore.Address.isValid(address, network))\n        // If it is, then let's be sure it's beaconed.\n        return this.isAddressUnlocked(addr, network);\n      return Promise.resolve(false);\n    } catch (_e) {\n      return Promise.resolve(false);\n    }\n  }\n  \n  private isAddressUnlocked(addr: string, network: string): Promise<boolean> {\n    return new Promise((resolve, reject) => {\n      const walletClient = this.bwcService.getClient(null, {});\n      \n      walletClient.validateAddress(addr, network).then((result) => {\n        if (!result) {\n          reject(new Error(\"Could not validateAddress\"));\n        } else {\n          const isAddressBeaconed = result.isValid && result.isBeaconed;\n          resolve(isAddressBeaconed);\n        }\n      });\n    });\n\n  }\n}\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/transact/send/send.service.ts","import { Component, Input } from '@angular/core';\nimport {Md5} from 'ts-md5/dist/md5';\n\n// Used to display friendly images of people who use gravatar.\n@Component({ \n  selector: 'gravatar', \n  inputs: ['name', 'height', 'width', 'email'],\n  template: `\n  <img  class=\"gravatar\" [alt]=\"name\" [height]=\"height\"  [width]=\"width\" \n  [src]=\"'https://secure.gravatar.com/avatar/'+emailHash+'.jpg?s='+width+'&d=mm'\"> \n`\n })\nexport class GravatarComponent {\n    public name: string;\n    public height: string; \n    public width: string;\n    public email: string;\n    public emailHash: string;\n\n    ngOnInit() {\n      if(this.email) {\n        this.emailHash = Md5.hashStr(this.email.toLowerCase() || '').toString();\n      }\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/gravatar.component.ts","\"use strict\";\n/*\n\nTypeScript Md5\n==============\n\nBased on work by\n* Joseph Myers: http://www.myersdaily.org/joseph/javascript/md5-text.html\n* Andr Cruz: https://github.com/satazor/SparkMD5\n* Raymond Hill: https://github.com/gorhill/yamd5.js\n\nEffectively a TypeScrypt re-write of Raymond Hill JS Library\n\nThe MIT License (MIT)\n\nCopyright (C) 2014 Raymond Hill\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n\n\n            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n                    Version 2, December 2004\n\n Copyright (C) 2015 Andr Cruz <amdfcruz@gmail.com>\n\n Everyone is permitted to copy and distribute verbatim or modified\n copies of this license document, and changing it is allowed as long\n as the name is changed.\n\n            DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n\n  0. You just DO WHAT THE FUCK YOU WANT TO.\n\n\n*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Md5 = (function () {\n    function Md5() {\n        this._state = new Int32Array(4);\n        this._buffer = new ArrayBuffer(68);\n        this._buffer8 = new Uint8Array(this._buffer, 0, 68);\n        this._buffer32 = new Uint32Array(this._buffer, 0, 17);\n        this.start();\n    }\n    // One time hashing functions\n    Md5.hashStr = function (str, raw) {\n        if (raw === void 0) { raw = false; }\n        return this.onePassHasher\n            .start()\n            .appendStr(str)\n            .end(raw);\n    };\n    Md5.hashAsciiStr = function (str, raw) {\n        if (raw === void 0) { raw = false; }\n        return this.onePassHasher\n            .start()\n            .appendAsciiStr(str)\n            .end(raw);\n    };\n    Md5._hex = function (x) {\n        var hc = Md5.hexChars;\n        var ho = Md5.hexOut;\n        var n;\n        var offset;\n        var j;\n        var i;\n        for (i = 0; i < 4; i += 1) {\n            offset = i * 8;\n            n = x[i];\n            for (j = 0; j < 8; j += 2) {\n                ho[offset + 1 + j] = hc.charAt(n & 0x0F);\n                n >>>= 4;\n                ho[offset + 0 + j] = hc.charAt(n & 0x0F);\n                n >>>= 4;\n            }\n        }\n        return ho.join('');\n    };\n    Md5._md5cycle = function (x, k) {\n        var a = x[0];\n        var b = x[1];\n        var c = x[2];\n        var d = x[3];\n        // ff()\n        a += (b & c | ~b & d) + k[0] - 680876936 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[1] - 389564586 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[2] + 606105819 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[3] - 1044525330 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[4] - 176418897 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[5] + 1200080426 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[6] - 1473231341 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[7] - 45705983 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[8] + 1770035416 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[9] - 1958414417 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[10] - 42063 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[11] - 1990404162 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        a += (b & c | ~b & d) + k[12] + 1804603682 | 0;\n        a = (a << 7 | a >>> 25) + b | 0;\n        d += (a & b | ~a & c) + k[13] - 40341101 | 0;\n        d = (d << 12 | d >>> 20) + a | 0;\n        c += (d & a | ~d & b) + k[14] - 1502002290 | 0;\n        c = (c << 17 | c >>> 15) + d | 0;\n        b += (c & d | ~c & a) + k[15] + 1236535329 | 0;\n        b = (b << 22 | b >>> 10) + c | 0;\n        // gg()\n        a += (b & d | c & ~d) + k[1] - 165796510 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[6] - 1069501632 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[11] + 643717713 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[0] - 373897302 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[5] - 701558691 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[10] + 38016083 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[15] - 660478335 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[4] - 405537848 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[9] + 568446438 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[14] - 1019803690 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[3] - 187363961 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[8] + 1163531501 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        a += (b & d | c & ~d) + k[13] - 1444681467 | 0;\n        a = (a << 5 | a >>> 27) + b | 0;\n        d += (a & c | b & ~c) + k[2] - 51403784 | 0;\n        d = (d << 9 | d >>> 23) + a | 0;\n        c += (d & b | a & ~b) + k[7] + 1735328473 | 0;\n        c = (c << 14 | c >>> 18) + d | 0;\n        b += (c & a | d & ~a) + k[12] - 1926607734 | 0;\n        b = (b << 20 | b >>> 12) + c | 0;\n        // hh()\n        a += (b ^ c ^ d) + k[5] - 378558 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[8] - 2022574463 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[11] + 1839030562 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[14] - 35309556 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[1] - 1530992060 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[4] + 1272893353 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[7] - 155497632 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[10] - 1094730640 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[13] + 681279174 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[0] - 358537222 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[3] - 722521979 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[6] + 76029189 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        a += (b ^ c ^ d) + k[9] - 640364487 | 0;\n        a = (a << 4 | a >>> 28) + b | 0;\n        d += (a ^ b ^ c) + k[12] - 421815835 | 0;\n        d = (d << 11 | d >>> 21) + a | 0;\n        c += (d ^ a ^ b) + k[15] + 530742520 | 0;\n        c = (c << 16 | c >>> 16) + d | 0;\n        b += (c ^ d ^ a) + k[2] - 995338651 | 0;\n        b = (b << 23 | b >>> 9) + c | 0;\n        // ii()\n        a += (c ^ (b | ~d)) + k[0] - 198630844 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[7] + 1126891415 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[14] - 1416354905 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[5] - 57434055 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[12] + 1700485571 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[3] - 1894986606 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[10] - 1051523 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[1] - 2054922799 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[8] + 1873313359 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[15] - 30611744 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[6] - 1560198380 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[13] + 1309151649 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        a += (c ^ (b | ~d)) + k[4] - 145523070 | 0;\n        a = (a << 6 | a >>> 26) + b | 0;\n        d += (b ^ (a | ~c)) + k[11] - 1120210379 | 0;\n        d = (d << 10 | d >>> 22) + a | 0;\n        c += (a ^ (d | ~b)) + k[2] + 718787259 | 0;\n        c = (c << 15 | c >>> 17) + d | 0;\n        b += (d ^ (c | ~a)) + k[9] - 343485551 | 0;\n        b = (b << 21 | b >>> 11) + c | 0;\n        x[0] = a + x[0] | 0;\n        x[1] = b + x[1] | 0;\n        x[2] = c + x[2] | 0;\n        x[3] = d + x[3] | 0;\n    };\n    Md5.prototype.start = function () {\n        this._dataLength = 0;\n        this._bufferLength = 0;\n        this._state.set(Md5.stateIdentity);\n        return this;\n    };\n    // Char to code point to to array conversion:\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/charCodeAt\n    // #Example.3A_Fixing_charCodeAt_to_handle_non-Basic-Multilingual-Plane_characters_if_their_presence_earlier_in_the_string_is_unknown\n    Md5.prototype.appendStr = function (str) {\n        var buf8 = this._buffer8;\n        var buf32 = this._buffer32;\n        var bufLen = this._bufferLength;\n        var code;\n        var i;\n        for (i = 0; i < str.length; i += 1) {\n            code = str.charCodeAt(i);\n            if (code < 128) {\n                buf8[bufLen++] = code;\n            }\n            else if (code < 0x800) {\n                buf8[bufLen++] = (code >>> 6) + 0xC0;\n                buf8[bufLen++] = code & 0x3F | 0x80;\n            }\n            else if (code < 0xD800 || code > 0xDBFF) {\n                buf8[bufLen++] = (code >>> 12) + 0xE0;\n                buf8[bufLen++] = (code >>> 6 & 0x3F) | 0x80;\n                buf8[bufLen++] = (code & 0x3F) | 0x80;\n            }\n            else {\n                code = ((code - 0xD800) * 0x400) + (str.charCodeAt(++i) - 0xDC00) + 0x10000;\n                if (code > 0x10FFFF) {\n                    throw new Error('Unicode standard supports code points up to U+10FFFF');\n                }\n                buf8[bufLen++] = (code >>> 18) + 0xF0;\n                buf8[bufLen++] = (code >>> 12 & 0x3F) | 0x80;\n                buf8[bufLen++] = (code >>> 6 & 0x3F) | 0x80;\n                buf8[bufLen++] = (code & 0x3F) | 0x80;\n            }\n            if (bufLen >= 64) {\n                this._dataLength += 64;\n                Md5._md5cycle(this._state, buf32);\n                bufLen -= 64;\n                buf32[0] = buf32[16];\n            }\n        }\n        this._bufferLength = bufLen;\n        return this;\n    };\n    Md5.prototype.appendAsciiStr = function (str) {\n        var buf8 = this._buffer8;\n        var buf32 = this._buffer32;\n        var bufLen = this._bufferLength;\n        var i;\n        var j = 0;\n        for (;;) {\n            i = Math.min(str.length - j, 64 - bufLen);\n            while (i--) {\n                buf8[bufLen++] = str.charCodeAt(j++);\n            }\n            if (bufLen < 64) {\n                break;\n            }\n            this._dataLength += 64;\n            Md5._md5cycle(this._state, buf32);\n            bufLen = 0;\n        }\n        this._bufferLength = bufLen;\n        return this;\n    };\n    Md5.prototype.appendByteArray = function (input) {\n        var buf8 = this._buffer8;\n        var buf32 = this._buffer32;\n        var bufLen = this._bufferLength;\n        var i;\n        var j = 0;\n        for (;;) {\n            i = Math.min(input.length - j, 64 - bufLen);\n            while (i--) {\n                buf8[bufLen++] = input[j++];\n            }\n            if (bufLen < 64) {\n                break;\n            }\n            this._dataLength += 64;\n            Md5._md5cycle(this._state, buf32);\n            bufLen = 0;\n        }\n        this._bufferLength = bufLen;\n        return this;\n    };\n    Md5.prototype.getState = function () {\n        var self = this;\n        var s = self._state;\n        return {\n            buffer: String.fromCharCode.apply(null, self._buffer8),\n            buflen: self._bufferLength,\n            length: self._dataLength,\n            state: [s[0], s[1], s[2], s[3]]\n        };\n    };\n    Md5.prototype.setState = function (state) {\n        var buf = state.buffer;\n        var x = state.state;\n        var s = this._state;\n        var i;\n        this._dataLength = state.length;\n        this._bufferLength = state.buflen;\n        s[0] = x[0];\n        s[1] = x[1];\n        s[2] = x[2];\n        s[3] = x[3];\n        for (i = 0; i < buf.length; i += 1) {\n            this._buffer8[i] = buf.charCodeAt(i);\n        }\n    };\n    Md5.prototype.end = function (raw) {\n        if (raw === void 0) { raw = false; }\n        var bufLen = this._bufferLength;\n        var buf8 = this._buffer8;\n        var buf32 = this._buffer32;\n        var i = (bufLen >> 2) + 1;\n        var dataBitsLen;\n        this._dataLength += bufLen;\n        buf8[bufLen] = 0x80;\n        buf8[bufLen + 1] = buf8[bufLen + 2] = buf8[bufLen + 3] = 0;\n        buf32.set(Md5.buffer32Identity.subarray(i), i);\n        if (bufLen > 55) {\n            Md5._md5cycle(this._state, buf32);\n            buf32.set(Md5.buffer32Identity);\n        }\n        // Do the final computation based on the tail and length\n        // Beware that the final length may not fit in 32 bits so we take care of that\n        dataBitsLen = this._dataLength * 8;\n        if (dataBitsLen <= 0xFFFFFFFF) {\n            buf32[14] = dataBitsLen;\n        }\n        else {\n            var matches = dataBitsLen.toString(16).match(/(.*?)(.{0,8})$/);\n            if (matches === null) {\n                return;\n            }\n            var lo = parseInt(matches[2], 16);\n            var hi = parseInt(matches[1], 16) || 0;\n            buf32[14] = lo;\n            buf32[15] = hi;\n        }\n        Md5._md5cycle(this._state, buf32);\n        return raw ? this._state : Md5._hex(this._state);\n    };\n    // Private Static Variables\n    Md5.stateIdentity = new Int32Array([1732584193, -271733879, -1732584194, 271733878]);\n    Md5.buffer32Identity = new Int32Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\n    Md5.hexChars = '0123456789abcdef';\n    Md5.hexOut = [];\n    // Permanent instance is to use for one-call hashing\n    Md5.onePassHasher = new Md5();\n    return Md5;\n}());\nexports.Md5 = Md5;\nif (Md5.hashStr('hello') !== '5d41402abc4b2a76b9719d911017c592') {\n    console.error('Md5 self test failed.');\n}\n//# sourceMappingURL=md5.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/ts-md5/dist/md5.js\n// module id = 812\n// module chunks = 0 1 2 3 4 5 7 8 9 11","import * as _ from 'lodash';\nimport * as Promise from 'bluebird';\nimport { Injectable } from '@angular/core';\nimport { Contacts, Contact as DeviceContact, IContactProperties, IContactField } from '@ionic-native/contacts';\nimport { MeritContact } from 'merit/shared/address-book/merit-contact.model';\nimport { AddressBookService } from 'merit/shared/address-book/address-book.service';\nimport { BwcService } from 'merit/core/bwc.service';\nimport { Logger } from 'merit/core/logger';\n\n/**\n * Creates MeritContact model and injects native contact in it\n */\n\n@Injectable()\nexport class MeritContactService {\n  private bitcore;\n\n  constructor(\n    private addressBookService:AddressBookService,\n    private bwcService: BwcService,\n    private logger: Logger\n  ) {\n    this.bitcore = bwcService.getBitcore();\n  }\n\n  private updateModel(contact: MeritContact) {\n\n    contact.nativeModel.name = contact.name;\n    contact.nativeModel.emails = contact.emails;\n    contact.nativeModel.phoneNumbers = contact.phoneNumbers;\n    contact.nativeModel.urls = contact.urls;\n  }\n\n  public add(contact:MeritContact):Promise<any> {\n    if (!contact.isValid()) {\n      return Promise.reject('Contact is not valid');\n    }\n\n    let address = contact.meritAddresses[0].address;\n    let network = contact.meritAddresses[0].network;\n    return this.addressBookService.add(contact, address, network);\n\n  }\n\n  public edit(contact:MeritContact):Promise<any> {\n\n    if (!contact.isValid()) {\n      return Promise.reject('Contact is not valid');\n    }\n\n    let address = contact.meritAddresses[0].address;\n    let network = contact.meritAddresses[0].network;\n    return this.addressBookService.remove(address, network).then(() => {\n      this.updateModel(contact);\n      return this.addressBookService.add(contact, address, network);\n    });\n  }\n\n  public remove(contact:MeritContact):Promise<any> {\n    let address = contact.meritAddresses[0].address;\n    let network = contact.meritAddresses[0].network;\n    return this.addressBookService.remove(address, network);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/address-book/merit-contact.service.ts","import * as _ from 'lodash';\nimport * as Promise from 'bluebird';\nimport { Component, SecurityContext } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { AddressBookService } from 'merit/shared/address-book/address-book.service';\nimport { Logger } from 'merit/core/logger';\nimport { Contact } from '@ionic-native/contacts';\nimport { MeritContact } from \"merit/shared/address-book/merit-contact.model\";\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@IonicPage({\n  defaultHistory: ['SettingsView']\n})\n@Component({\n  selector: 'addressbook-view',\n  templateUrl: 'address-book.html',\n})\nexport class AddressBookView {\n\n  loading:boolean;\n\n  private contacts:Array<MeritContact> = [];\n  public filteredContacts:Array<MeritContact> = [];\n  public renderingContacts:Array<MeritContact> = [];\n\n  searchQuery:string = '';\n\n  contactsOffset = 0;\n  contactsLimit  = 10;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private addressBookService: AddressBookService,\n    private logger: Logger,\n    private sanitizer:DomSanitizer\n  ) {\n  }\n\n  ionViewWillEnter() {\n    this.loading = true;\n    this.updateContacts().then(() => {\n      this.loading = false;\n    });\n  }\n\n  private updateContacts(): Promise<void> {\n    this.contactsOffset = 0;\n\n    return this.addressBookService.getAllMeritContacts().then((contacts) => {\n      this.contacts = contacts;\n      this.filterContacts();\n    });\n  }\n\n  private filterContacts(): void{\n    this.contactsOffset = 0;\n    this.filteredContacts = this.addressBookService.searchContacts(this.contacts, this.searchQuery);\n    this.renderingContacts = this.filteredContacts.slice(0, this.contactsLimit);\n  }\n\n  renderMoreContacts(infiniteScroll) {\n    this.contactsOffset += this.contactsLimit;\n    this.renderingContacts = this.renderingContacts.concat(this.filteredContacts.slice(this.contactsOffset, this.contactsOffset+this.contactsLimit));\n    infiniteScroll.complete();\n  }\n\n\n  sanitizePhotoUrl(url:string) {\n    return this.sanitizer.sanitize(SecurityContext.URL, url);\n  }\n\n  doRefresh(refresher) {\n    this.updateContacts().then(() => {\n      refresher.complete()\n    });\n  }\n\n  hasContacts(): boolean {\n    return !_.isEmpty(this.contacts);\n  }\n\n  toAddContact() {\n    this.navCtrl.push('EditContactView');\n  }\n\n  toContact(contact:Contact) {\n    this.navCtrl.push('ContactView', {contact: contact});\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/address-book/address-book.ts","import * as _ from 'lodash';\nimport * as Promise from 'bluebird';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, AlertController } from 'ionic-angular';\nimport { Logger } from 'merit/core/logger';\nimport { PopupService } from 'merit/core/popup.service';\nimport { MeritToastController } from \"merit/core/toast.controller\";\nimport { ToastConfig } from \"merit/core/toast.config\";\nimport { MeritContact } from \"merit/shared/address-book/merit-contact.model\";\nimport { Contacts } from '@ionic-native/contacts';\nimport { MeritContactBuilder } from \"merit/shared/address-book/merit-contact.builder\";\nimport { MeritContactService } from  \"merit/shared/address-book/merit-contact.service\";\n\n\n@IonicPage()\n@Component({\n  selector: 'view-edit-contact',\n  templateUrl: 'edit-contact.html',\n})\nexport class EditContactView {\n\n  public originalContact:MeritContact;\n  public editMode:boolean;\n  public newContact:MeritContact;\n  public email: any;\n  public phoneNumber: any;\n\n  constructor(\n    private navCtrl: NavController,\n    private navParams: NavParams,\n    private logger: Logger,\n    private popupService: PopupService,\n    private modalCtrl:ModalController,\n    private toastCtrl:MeritToastController,\n    private meritContactBuilder:MeritContactBuilder,\n    private meritContactService:MeritContactService,\n    private contacts:Contacts,\n    private alertCtrl:AlertController\n  ) {\n\n    this.originalContact = this.navParams.get('contact');\n\n    if (this.originalContact) {\n      this.editMode = true;\n      this.newContact = this.meritContactBuilder.build(this.originalContact);\n    } else {\n      this.newContact = this.meritContactBuilder.build(new MeritContact());\n    }\n\n    this.setDefaultValues();\n\n  }\n\n  ionViewDidLoad() {\n  }\n\n  private setDefaultValues() {\n    if (!this.newContact.emails.length) {\n      this.newContact.emails.push({type: 'other', value: ''});\n    }\n    if (!this.newContact.phoneNumbers.length) {\n      this.newContact.phoneNumbers.push({type: 'other', value: ''});\n    }\n    if (!this.newContact.meritAddresses.length) {\n      this.newContact.meritAddresses.push({network: '', address: ''});\n    }\n  }\n\n  openScanner() {\n    let modal = this.modalCtrl.create('ImportScanView');\n    modal.onDidDismiss((address) => {\n      if (address) {\n        if (address.indexOf('merit:') == 0) address = address.slice(6);\n        this.newContact.meritAddresses[0].address = address;\n      }\n    });\n    modal.present();\n  }\n\n  save() {\n\n    if (!this.newContact.emails[0].value) this.newContact.emails = [];\n    if (!this.newContact.phoneNumbers[0].value) this.newContact.phoneNumbers = [];\n\n    if (!this.newContact.isValid()) {\n      return this.toastCtrl.create({\n        message: 'Contact fields are not valid',\n        cssClass: ToastConfig.CLASS_ERROR\n      }).present();\n    }\n\n    let modify = this.editMode ? this.meritContactService.edit(this.newContact) : this.meritContactService.add(this.newContact);\n    modify.then(() => {\n      if (this.editMode) {\n        this.originalContact.name = this.newContact.name;\n        this.originalContact.emails = this.newContact.emails;\n        this.originalContact.phoneNumbers = this.newContact.phoneNumbers;\n        this.originalContact.urls = this.newContact.urls;\n        this.originalContact.meritAddresses= this.newContact.meritAddresses;\n      }\n      this.navCtrl.pop();\n    }).catch((err) => {\n      this.setDefaultValues();\n      this.logger.warn('Error processing contact', err);\n      return this.toastCtrl.create({\n        message: 'Error processing contact: ' + err.toString(),\n        cssClass: ToastConfig.CLASS_ERROR\n      }).present();\n    });\n  }\n\n  isContactValid() {\n    return this.newContact.isValid();\n  }\n\n  removeEmail(email) {\n    this.newContact.emails = this.newContact.emails.filter((e) => e.value != email.value);\n  }\n\n  addEmail() {\n    console.log('adding email');\n    this.newContact.emails.push({type: 'email', value: ''});\n  }\n\n  addPhone() {\n    this.newContact.phoneNumbers.push({type: 'email', value: ''});\n  }\n\n  removePhone(phone) {\n    this.newContact.phoneNumbers = this.newContact.phoneNumbers.filter((e) => e.value != phone.value);\n  }\n\n  isLocalContact() {\n    console.log(this.originalContact.id);\n    return (this.originalContact.id.indexOf('merit') == 0);\n  }\n\n  removeContact() {\n\n      let confirmMessage = this.isLocalContact()\n        ? 'Are you sure you want to remove Merit contact?'\n        : 'Are you sure you want to delete contact? This action will remove merit data only and will not affect anything in your device contact list';\n\n      let removeHandler = () => {\n        return this.meritContactService.remove(this.originalContact).then(() => {\n          this.navCtrl.remove(2,1);\n          this.navCtrl.pop();\n        });\n      };\n\n      this.alertCtrl.create({\n        title: 'Remove data?',\n        message: confirmMessage,\n        buttons: [\n          {\n            text: 'Cancel',\n            role: 'cancel',\n            handler: () => {}\n          },\n          {\n            text: 'Remove',\n            handler: () => {\n              removeHandler();\n            }\n          }\n        ]\n      }).present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/address-book/edit-contact/edit-contact.ts"],"sourceRoot":""}