{"version":3,"sources":["../../src/app/vaults/spend/amount/vault-spend-amount.module.ts","../../src/app/shared/shared.module.ts","../../src/app/shared/to-unit.pipe.ts","../../src/app/shared/to-fiat.pipe.ts","../../src/app/vaults/spend/amount/vault-spend-amount.ts"],"names":[],"mappings":"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","file":"18.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SharedModule } from 'merit/shared/shared.module';\n\nimport { VaultSpendAmountView } from './vault-spend-amount';\n\n/*\n  ToDo: Work to get this lazy-loadable as possible. \n*/\n@NgModule({\n  declarations: [\n    VaultSpendAmountView,\n  ],\n  imports: [\n    IonicPageModule.forChild(VaultSpendAmountView),\n    SharedModule,\n  ],\n  providers: [\n  ]\n})\nexport class VaultSpendAmountModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/app/vaults/spend/amount/vault-spend-amount.module.ts","import { NgModule } from '@angular/core';\nimport { GravatarComponent } from 'merit/shared/gravatar.component';\nimport { ToUnitPipe } from 'merit/shared/to-unit.pipe';\nimport { ToFiatPipe } from 'merit/shared/to-fiat.pipe';\nimport { TranslateModule } from '@ngx-translate/core';\n\n// This module manaages the sending of money.\n@NgModule({\n  declarations: [\n    ToUnitPipe,\n    ToFiatPipe\n  ],\n  imports: [\n  ],\n  exports: [\n    ToUnitPipe,\n    ToFiatPipe,\n    TranslateModule\n  ]\n})\nexport class SharedModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/shared.module.ts","import { Pipe, PipeTransform } from '@angular/core';\nimport { ConfigService } from 'merit/shared/config.service';\nimport { TxFormatService } from 'merit/transact/tx-format.service';\n\n@Pipe({ name: 'toUnit' })\nexport class ToUnitPipe implements PipeTransform {\n  private unitCode: string;\n  \n  constructor(\n    private configProvider: ConfigService,\n    private txFormatProvider: TxFormatService\n  ) {\n    this.unitCode = this.configProvider.get().wallet.settings.unitCode;\n  }\n  transform(value: string, satoshis: number): any {\n    return this.txFormatProvider.formatAmountStr(satoshis);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/to-unit.pipe.ts","import { Pipe, PipeTransform } from '@angular/core';\nimport { ConfigService } from 'merit/shared/config.service';\nimport { TxFormatService } from 'merit/transact/tx-format.service';\nimport * as Promise from 'bluebird';\n\n@Pipe({ name: 'toFiat' })\nexport class ToFiatPipe implements PipeTransform {\n  private unitCode: string;\n\n  constructor(\n    private configProvider: ConfigService,\n    private txFormatProvider: TxFormatService\n  ) { \n    this.unitCode = this.configProvider.get().wallet.settings.unitCode;\n  }\n  transform(value: string, satoshis: number): Promise<string> {\n    return this.txFormatProvider.formatAlternativeStr(satoshis).then((altSr:string) => {\n      return Promise.resolve(altSr);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/shared/to-fiat.pipe.ts","import * as _ from \"lodash\";\nimport * as Promise from 'bluebird'; \n\nimport { Component, HostListener } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { VaultsService } from 'merit/vaults/vaults.service';\nimport { BwcService } from 'merit/core/bwc.service';\nimport { ProfileService } from 'merit/core/profile.service';\nimport { WalletService } from \"merit/wallets/wallet.service\";\nimport { Logger } from 'merit/core/logger';\n\n@IonicPage({\n  segment: 'vault/:vaultId/spend/amount',\n  defaultHistory: ['VaultSpendAmountView']\n})\n@Component({\n  selector: 'vault-spend-amount-view',\n  templateUrl: 'vault-spend-amount.html',\n})\nexport class VaultSpendAmountView {\n\n    public recipient: any;\n    public amount: string;\n    public smallFont: boolean;\n    public allowSend: boolean;\n    public globalResult: string;\n    public sending: boolean;\n    public displayName: string;\n    \n    private LENGTH_EXPRESSION_LIMIT = 19;\n    private SMALL_FONT_SIZE_LIMIT = 10;\n    private availableUnits: Array<any> = [];\n    private unitIndex: number = 0;\n    private reNr: RegExp = /^[1234567890\\.]$/;\n    private reOp: RegExp = /^[\\*\\+\\-\\/]$/;\n    private vault: any = null;\n    private wallet: any = null;\n\n    constructor(\n        public navCtrl: NavController, \n        public navParams: NavParams, \n        private log: Logger\n    ) {\n        this.amount = '';\n        this.allowSend = false;\n    }\n\n    ionViewDidLoad() {\n        console.log('Params', this.navParams.data);\n        this.recipient = this.navParams.get('recipient');\n        this.wallet = this.navParams.get('wallet');\n        this.vault = this.navParams.get('vault');\n        this.sending = this.navParams.get('sending');\n        this.displayName = !_.isEmpty(this.recipient.name) ? this.recipient.name : this.recipient.meritAddress;\n    }\n\n    @HostListener('document:keydown', ['$event']) handleKeyboardEvent(event: KeyboardEvent) {\n        if (!event.key) return;\n        if (event.which === 8) {\n          event.preventDefault();\n          this.removeDigit();\n        }\n    \n        if (event.key.match(this.reNr)) {\n          this.pushDigit(event.key);\n        } else if (event.key.match(this.reOp)) {\n          this.pushOperator(event.key);\n        } else if (event.keyCode === 86) {\n          // if (event.ctrlKey || event.metaKey) processClipboard();\n        } else if (event.keyCode === 13) this.finish();\n      }\n    \n\n    pushDigit(digit: string) {\n        if (this.amount && this.amount.length >= this.LENGTH_EXPRESSION_LIMIT) return;\n        if (this.amount.indexOf('.') > -1 && digit == '.') return;\n        // TODO: next line - Need: isFiat\n        //if (this.availableUnits[this.unitIndex].isFiat && this.amount.indexOf('.') > -1 && this.amount[this.amount.indexOf('.') + 2]) return;\n    \n        this.amount = (this.amount + digit).replace('..', '.');\n        this.checkFontSize();\n        this.processAmount();\n      };\n    \n      removeDigit() {\n        this.amount = (this.amount).toString().slice(0, -1);\n        this.processAmount();\n        this.checkFontSize();\n      };\n    \n      pushOperator(operator: string) {\n        if (!this.amount || this.amount.length == 0) return;\n        this.amount = this._pushOperator(this.amount, operator);\n      };\n    \n      private _pushOperator(val: string, operator: string) {\n        if (!this.isOperator(_.last(val))) {\n          return val + operator;\n        } else {\n          return val.slice(0, -1) + operator;\n        }\n      };\n    \n      isOperator(val: string) {\n        const regex = /[\\/\\-\\+\\x\\*]/;\n        return regex.test(val);\n      };\n    \n      isExpression(val: string) {\n        const regex = /^\\.?\\d+(\\.?\\d+)?([\\/\\-\\+\\*x]\\d?\\.?\\d+)+$/;\n        return regex.test(val);\n      };\n    \n      checkFontSize() {\n        if (this.amount && this.amount.length >= this.SMALL_FONT_SIZE_LIMIT) this.smallFont = true;\n        else this.smallFont = false;\n      };\n    \n      processAmount() {\n        var formatedValue = this.format(this.amount);\n        var result = this.evaluate(formatedValue);\n        this.allowSend = _.isNumber(result) && +result > 0;\n        if (_.isNumber(result)) {\n          this.globalResult = this.isExpression(this.amount) ? '= ' + this.processResult(result) : '';\n    \n          // TODO this.globalResult is always undefinded - Need: processResult()\n          /* if (this.availableUnits[this.unitIndex].isFiat) {\n    \n            var a = this.fromFiat(result);\n            if (a) {\n              this.alternativeAmount = txFormatService.formatAmount(a * unitToMicro, true);\n            } else {\n              this.alternativeAmount = 'N/A'; //TODO\n              this.allowSend = false;\n            }\n          } else {\n            this.alternativeAmount = $filter('formatFiatAmount')(toFiat(result));\n          } */\n          this.globalResult = result.toString();\n        }\n      };\n    \n      format(val: string) {\n        if (!val) return;\n    \n        var result = val.toString();\n    \n        if (this.isOperator(_.last(val))) result = result.slice(0, -1);\n    \n        return result.replace('x', '*');\n      };\n    \n      evaluate(val: string) {\n        var result;\n        try {\n          result = eval(val);\n        } catch (e) {\n          return 0;\n        }\n        if (!_.isFinite(result)) return 0;\n        return result;\n      };\n\n      processResult(val: number) {\n        // TODO: implement this function correctly - Need: txFormatService, isFiat, $filter\n        this.log.info(\"processResult TODO\");\n        /*if (this.availableUnits[this.unitIndex].isFiat) return $filter('formatFiatAmount')(val);\n        else return txFormatService.formatAmount(val.toFixed(unitDecimals) * unitToMicro, true);*/\n      };\n\n      finish() {\n        console.log(this.navParams.get('coins'));\n        this.navCtrl.push('VaultSpendConfirmView', \n          { recipient: this.recipient, toAmount: parseFloat(this.globalResult), wallet: this.navParams.get('wallet'), vault: this.vault, coins: this.navParams.get('coins') });\n      }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/vaults/spend/amount/vault-spend-amount.ts"],"sourceRoot":""}